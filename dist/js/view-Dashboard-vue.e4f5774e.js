(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["view-Dashboard-vue"],{"6fcd":function(t,e,s){t.exports=s.p+"img/accountCircle.0f904d85.svg"},7277:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard"},[t.selectedBet?a("Modal",t._b({staticClass:"selectedBet",on:{click:t.closeSelectedBetModal},scopedSlots:t._u([{key:"body",fn:function(){return[a("div",{staticClass:"body"},[a("div",{staticClass:"body__header"},[a("h2",[t._v(t._s(t.selectedBet.title))])]),a("div",{staticClass:"body__main"},[a("div",{staticClass:"body__main__top"},[a("p",[t._v("by "+t._s(t.selectedBet.createdBy))]),a("div",{staticClass:"amount"},[a("span",[t._v("$"+t._s(t.selectedBet.amount))])])]),a("div",{staticClass:"body__main__middle"},[a("div",{staticClass:"acceptedBy"},[a("div",{staticClass:"flex"},[a("h3",[t._v("Accepted By:")]),a("span",{staticClass:"acceptedCountSpan"},[t._v(t._s(t.selectedBet.acceptedBy.length)+" / "+t._s(t.selectedBet.canAcceptNumber))])]),a("div",{staticClass:"acceptedBy__users"},[t.selectedBet.acceptedBy.length>0?a("div",t._l(t.selectedBet.acceptedBy,(function(e){return a("div",{key:e.userId,staticClass:"user"},[a("p",[t._v(t._s(e.fullName))])])})),0):a("div",[a("p",[t._v("No one accepted!")])])])]),a("div",{staticClass:"description"},[a("h3",[t._v("Description:")]),a("div",{staticClass:"text"},[a("p",[t._v(t._s(t.selectedBet.description))])])])])])])]},proxy:!0},{key:"submitBtn",fn:function(){return[t.selectedBet.userId!==t.$store.state.authStore.currentUser.id?a("button",{staticClass:"acceptBetBtn"},[t._v("Accept Bet")]):t._e()]},proxy:!0}],null,!1,2118110066)},"Modal",{isHeader:!1},!1)):t._e(),a("div",{staticClass:"top"},[t.ScrambleChamps.length>0?a("div",{staticClass:"scrambleChamps"},[t._m(0),a("div",{staticClass:"flexContainer"},t._l(t.ScrambleChamps,(function(e){return a("div",{key:e.userId,staticClass:"champ"},[t._m(1,!0),a("p",{staticClass:"text text--xs color--white text--center"},[t._v(t._s(e.fullName))])])})),0)]):a("div",{staticClass:"scrambleChamps"},[t._m(2),t._m(3)]),a("div",{staticClass:"viewButtons"},[a("h2",{staticClass:"text text--lg color--white text--bold"},[t._v("Latest")]),a("div",{staticClass:"buttons"},t._l(t.dashboardViews,(function(e){return a("button",{key:e,staticClass:"text text--center text--xs",class:{active:e===t.currentView},on:{click:function(s){return t.handleViewChange(e)}}},[t._v(t._s(e))])})),0)])]),a("div",{staticClass:"bottom"},[a("div",{staticClass:"content"},[t.loading?t._e():a("div",["Handicaps"===t.currentView?a("div",{staticClass:"handicaps"},[a("transition",{attrs:{name:"slide-fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.isSearchInputShowing,expression:"isSearchInputShowing"}],staticClass:"searchBar"},[a("label",{staticClass:"hideLabel",attrs:{for:"searchSB"}},[t._v("Search")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchInput,expression:"searchInput"}],staticClass:"input text text--input",attrs:{id:"searchSB",type:"text",placeholder:"Search by name"},domProps:{value:t.searchInput},on:{input:function(e){e.target.composing||(t.searchInput=e.target.value)}}}),a("div",{staticClass:"clearBtnContainer"},[a("button",{staticClass:"clearBtn text text--xs"},[t._v("Clear")])])])]),a("div",{staticClass:"titleBar"},[a("div",[a("button",{staticClass:"searchButton",on:{click:t.toggleSearch}},[a("img",{attrs:{src:s("d103"),alt:"search icon"}})])]),t._m(4),a("div",{on:{click:t.toggleDescendingHandicaps}},[a("p",{staticClass:"text text--sm text-vpMD--md"},[t._v("Handicap")])])]),a("div",{staticClass:"sandbaggerList"},[t._l(t.filteredSandbaggers,(function(e){return a("div",{key:e.id,staticClass:"sandbagger"},[a("router-link",{attrs:{to:"/sandbagger/"+e.id}},[a("div",[null===e.image?a("img",{attrs:{src:s("6fcd"),alt:"account icon"}}):a("img",{attrs:{src:e.image,alt:"account icon"}})]),a("div",[a("span",{staticClass:"sandbagger__name text text--sm text-vpMD--md"},[t._v(" "+t._s(e.fullName)+" ")])]),a("div",[a("span",{staticClass:"sandbagger__handicap text text--sm text-vpMD--md"},[t._v(t._s(e.handicap))])])])],1)})),t.filteredSandbaggers.length>0?a("div",{staticClass:"prevNextButtons"},[a("button",{attrs:{disabled:0===t.pageNumber},on:{click:function(e){return t.changePage("previous")}}},[t._v("Previous")]),a("button",{attrs:{disabled:t.pageNumber>=t.sandbaggerCount-1},on:{click:function(e){return t.changePage("next")}}},[t._v("Next")])]):t._e()],2)],1):t._e(),"Bets"===t.currentView?a("DashboardBets",{attrs:{bets:t.Bets}}):t._e()],1),t.loading?a("Loading"):t._e()],1)])],1)},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"title"},[s("h2",{staticClass:"text text--md text--bold color--white"},[t._v("Scramble Champs")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"imgContainer"},[a("img",{attrs:{src:s("edb4"),alt:"Sandbagger Logo"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"title"},[s("h2",{staticClass:"text text--md text--bold color--white"},[t._v("Scramble Champs")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flexContainer"},[a("div",{staticClass:"champ"},[a("div",{staticClass:"imgContainer"},[a("img",{attrs:{src:s("edb4"),alt:"Sandbagger Logo"}})]),a("p",{staticClass:"text text--xs color--white text--center"},[t._v("Sandbagger #1")])]),a("div",{staticClass:"champ"},[a("div",{staticClass:"imgContainer"},[a("img",{attrs:{src:s("edb4"),alt:"Sandbagger Logo"}})]),a("p",{staticClass:"text text--xs color--white text--center"},[t._v("Sandbagger #2")])]),a("div",{staticClass:"champ"},[a("div",{staticClass:"imgContainer"},[a("img",{attrs:{src:s("edb4"),alt:"Sandbagger Logo"}})]),a("p",{staticClass:"text text--xs color--white text--center"},[t._v("Sandbagger #3")])]),a("div",{staticClass:"champ"},[a("div",{staticClass:"imgContainer"},[a("img",{attrs:{src:s("edb4"),alt:"Sandbagger Logo"}})]),a("p",{staticClass:"text text--xs color--white text--center"},[t._v("Sandbagger #4")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("p",{staticClass:"text text--sm text-vpMD--md"},[t._v("Name")])])}],i=(s("4de4"),s("caad"),s("fb6a"),s("d3b7"),s("2532"),s("9ab4")),r=s("1b40"),c=s("53ec"),o=s("2b89"),d=s("86bc"),l="/Dashboard",u=function(){function t(){}return t.DashboardData=function(){return Object(i["a"])(this,void 0,Promise,(function(){return Object(i["d"])(this,(function(t){switch(t.label){case 0:return[4,d["a"].get(l+"/DashboardData")];case 1:return[2,t.sent()]}}))}))},t.ActiveBets=function(){return Object(i["a"])(this,void 0,Promise,(function(){return Object(i["d"])(this,(function(t){switch(t.label){case 0:return[4,d["a"].get(l+"/ActiveBets")];case 1:return[2,t.sent()]}}))}))},t}(),h=u,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loading=!0,e.descendingHandicap=!1,e.isSearchInputShowing=!1,e.searchInput="",e.currentView="Handicaps",e.dashboardViews=["Handicaps","Rounds","Bets"],e.Bets=[],e.selectedBet=null,e.ScrambleChamps=[],e.size=5,e.pageNumber=0,e.Sandbaggers=[],e}return Object(i["c"])(e,t),Object.defineProperty(e.prototype,"sandbaggerCount",{get:function(){var t=this.Sandbaggers.length,e=this.size;return Math.ceil(t/e)},enumerable:!1,configurable:!0}),e.prototype.changePage=function(t){"next"===t?this.pageNumber++:this.pageNumber--},e.prototype.handleViewChange=function(t){var e=document.querySelector(".viewButtons"),s=null===e||void 0===e?void 0:e.querySelector(".buttons");"Bets"===t&&this.getBets(),s.scrollLeft="Handicaps"===t&&s?0:100,this.currentView=t},e.prototype.mounted=function(){c["a"].Header({title:"Dashboard",isShowing:!0,current:"main",bgColor:"#17252a"}),this.getDashboardData()},Object.defineProperty(e.prototype,"filteredSandbaggers",{get:function(){var t=this,e=this.pageNumber*this.size,s=e+this.size,a=this.Sandbaggers.filter((function(e){return e.fullName.toLowerCase().includes(t.searchInput.toLowerCase())}));return a.slice(e,s)},enumerable:!1,configurable:!0}),e.prototype.getDashboardData=function(){return Object(i["a"])(this,void 0,Promise,(function(){var t,e,s=this;return Object(i["d"])(this,(function(a){switch(a.label){case 0:this.loading=!0,a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,h.DashboardData()];case 2:return t=a.sent(),200===t.status&&(this.Sandbaggers=this.sortSandbaggersAscending(t.data.sandbaggersWithHandicaps),this.ScrambleChamps=t.data.scrambleChamps),[3,5];case 3:return e=a.sent(),console.log(e),[3,5];case 4:return setTimeout((function(){s.loading=!1}),o["a"].randomNumber(3e3)),[7];case 5:return[2]}}))}))},e.prototype.getBets=function(){return Object(i["a"])(this,void 0,Promise,(function(){var t,e,s=this;return Object(i["d"])(this,(function(a){switch(a.label){case 0:this.loading=!0,a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,h.ActiveBets()];case 2:return t=a.sent(),200===t.status&&(this.Bets=t.data),[3,5];case 3:return e=a.sent(),console.log(e),[3,5];case 4:return setTimeout((function(){s.loading=!1}),Math.floor(3e3*Math.random())),[7];case 5:return[2]}}))}))},e.prototype.toggleDescendingHandicaps=function(){this.descendingHandicap=!this.descendingHandicap,this.descendingHandicap?this.Sandbaggers=this.sortSandbaggersDescending(this.Sandbaggers):this.Sandbaggers=this.sortSandbaggersAscending(this.Sandbaggers)},e.prototype.sortSandbaggersDescending=function(t){return t.sort((function(t,e){return t.handicap>e.handicap?-1:t.handicap<e.handicap?1:0}))},e.prototype.sortSandbaggersAscending=function(t){return t.sort((function(t,e){return t.handicap>e.handicap?1:t.handicap<e.handicap?-1:0}))},e.prototype.toggleSearch=function(){this.isSearchInputShowing=!this.isSearchInputShowing},e.prototype.selectBet=function(t){this.selectedBet=t,document.body.style.position="fixed"},e.prototype.closeSelectedBetModal=function(){this.selectedBet=null,document.body.style.position="static"},e=Object(i["b"])([Object(r["a"])({name:"Dashboard",components:{Loading:function(){return s.e("chunk-9c9507fc").then(s.bind(null,"866a"))},Modal:function(){return s.e("chunk-c13f7c1c").then(s.bind(null,"35f7"))},DashboardBets:function(){return s.e("chunk-2fff9402").then(s.bind(null,"00d6"))}}})],e),e}(r["d"]),p=g,b=p,v=(s("a730"),s("2877")),m=Object(v["a"])(b,a,n,!1,null,"a546ac18",null);e["default"]=m.exports},8418:function(t,e,s){"use strict";var a=s("c04e"),n=s("9bf2"),i=s("5c6c");t.exports=function(t,e,s){var r=a(e);r in t?n.f(t,r,i(0,s)):t[r]=s}},"84b0":function(t,e,s){},"86bc":function(t,e,s){"use strict";s("d3b7");var a=s("9ab4"),n=s("bc3a"),i=s.n(n),r=s("88b4"),c=s.n(r),o=s("0613"),d="https://sandbaggerapi.azurewebsites.net/api",l=new c.a({isCompression:!1}),u=i.a.create({baseURL:d});u.interceptors.request.use((function(t){t.withCredentials=!0,i.a.defaults.headers.common["Authorization"]="",delete i.a.defaults.headers.common["Authorization"];var e=JSON.parse(l.get("User"));if(null!=e.authStore.currentUser){var s=e.authStore.currentUser.token;s&&(t.headers.common.Authorization="Bearer "+s)}return t}),(function(t){return console.log("error",t),Promise.reject(t)})),u.interceptors.response.use((function(t){return t}),(function(t){return Object(a["a"])(void 0,void 0,void 0,(function(){return Object(a["d"])(this,(function(e){switch(e.label){case 0:return t&&t.response?401!==t.response.status&&"Unauthorized"!==t.response.statusText&&500!==t.response.status?[3,2]:[4,o["a"].dispatch("authStore/Logout")]:[3,2];case 1:e.sent(),e.label=2;case 2:return t&&t.message?"Network Error"!==t.message?[3,4]:[4,o["a"].dispatch("authStore/Logout")]:[3,4];case 3:e.sent(),console.log("Error!",t.message),e.label=4;case 4:return[2,Promise.reject(t.response)]}}))}))})),e["a"]=u},a730:function(t,e,s){"use strict";s("84b0")},d103:function(t,e,s){t.exports=s.p+"img/search.884f5858.svg"},edb4:function(t,e,s){t.exports=s.p+"img/SBLogo.96946d29.png"},fb6a:function(t,e,s){"use strict";var a=s("23e7"),n=s("861d"),i=s("e8b5"),r=s("23cb"),c=s("50c4"),o=s("fc6a"),d=s("8418"),l=s("b622"),u=s("1dde"),h=s("ae40"),g=u("slice"),p=h("slice",{ACCESSORS:!0,0:0,1:2}),b=l("species"),v=[].slice,m=Math.max;a({target:"Array",proto:!0,forced:!g||!p},{slice:function(t,e){var s,a,l,u=o(this),h=c(u.length),g=r(t,h),p=r(void 0===e?h:e,h);if(i(u)&&(s=u.constructor,"function"!=typeof s||s!==Array&&!i(s.prototype)?n(s)&&(s=s[b],null===s&&(s=void 0)):s=void 0,s===Array||void 0===s))return v.call(u,g,p);for(a=new(void 0===s?Array:s)(m(p-g,0)),l=0;g<p;g++,l++)g in u&&d(a,l,u[g]);return a.length=l,a}})}}]);
//# sourceMappingURL=view-Dashboard-vue.e4f5774e.js.map