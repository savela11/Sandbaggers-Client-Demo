(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["view-Ideas-vue"],{"2b89":function(t,e,n){"use strict";n("a15b"),n("baa5");var i=function(){function t(){}return t.formatDate=function(t){var e=new Date(t),n=""+(e.getMonth()+1),i=""+e.getDate(),a=e.getFullYear();return n.length<2&&(n="0"+n),i.length<2&&(i="0"+i),[n,i,a].join("-")},t.formatLongString=function(t,e){if(null==t)return"";if(t.length<=e)return t;t=t.substring(0,e);var n=t.lastIndexOf(" ");return t=t.substring(0,n),t+"..."},t.randomNumber=function(t){var e=Math.floor(4e3*Math.random());return e<1e3&&(e+=t),e},t}();e["a"]=i},"4ee0":function(t,e,n){"use strict";n("a15b"),n("baa5");var i,a,r=n("9ab4"),s=n("60a3"),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r["c"])(e,t),e.prototype.formatDate=function(t){var e=new Date(t),n=""+(e.getMonth()+1),i=""+e.getDate(),a=e.getFullYear();return n.length<2&&(n="0"+n),i.length<2&&(i="0"+i),[n,i,a].join("-")},e.prototype.formatLongString=function(t,e){if(null==t)return"";if(t.length<=e)return t;t=t.substring(0,e);var n=t.lastIndexOf(" ");return t=t.substring(0,n),t+"..."},e=Object(r["b"])([s["a"]],e),e}(s["d"]),d=o,c=d,u=n("2877"),l=Object(u["a"])(c,i,a,!1,null,null,null);e["a"]=l.exports},"738e":function(t,e,n){},a15b:function(t,e,n){"use strict";var i=n("23e7"),a=n("44ad"),r=n("fc6a"),s=n("a640"),o=[].join,d=a!=Object,c=s("join",",");i({target:"Array",proto:!0,forced:d||!c},{join:function(t){return o.call(r(this),void 0===t?",":t)}})},a640:function(t,e,n){"use strict";var i=n("d039");t.exports=function(t,e){var n=[][t];return!!n&&i((function(){n.call(null,e||function(){throw 1},1)}))}},b4b2:function(t,e,n){"use strict";var i=n("738e"),a=n.n(i);a.a},baa5:function(t,e,n){var i=n("23e7"),a=n("e58c");i({target:"Array",proto:!0,forced:a!==[].lastIndexOf},{lastIndexOf:a})},ccc6:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ideas"},[t.isAddingIdea?n("Modal",{attrs:{isFooter:!1},on:{click:function(e){return t.toggleAddIdea(!1)}},scopedSlots:t._u([{key:"header",fn:function(){return[t.loading?t._e():n("h2",[t._v("Add Idea")])]},proxy:!0},{key:"body",fn:function(){return[t.loading?t._e():n("form",{staticClass:"form form--addIdea"},[n("div",{staticClass:"form__field"},[n("label",{attrs:{for:"title"}},[t._v("Title")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.addIdea.title,expression:"addIdea.title"}],attrs:{type:"text",id:"title"},domProps:{value:t.addIdea.title},on:{input:function(e){e.target.composing||t.$set(t.addIdea,"title",e.target.value)}}})]),n("div",{staticClass:"form__field"},[n("label",{attrs:{for:"description"}},[t._v("Description")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.addIdea.description,expression:"addIdea.description"}],attrs:{type:"text",rows:"10",id:"description"},domProps:{value:t.addIdea.description},on:{input:function(e){e.target.composing||t.$set(t.addIdea,"description",e.target.value)}}})]),n("div",{staticClass:"btnContainer"},[n("button",{staticClass:"btn btn--sm btn--blue",attrs:{id:"addIdeaBTN"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.createIdea(e)}}},[t._v("Add")])])]),t.loading?n("Loading"):t._e()]},proxy:!0}],null,!1,2712329591)}):t._e(),n("div",{staticClass:"addIdea"},[n("button",{staticClass:"btn btn--borderBlue btn--xs",on:{click:function(e){return t.toggleAddIdea(!0)}}},[t._v("Add")])]),n("hr"),n("div",{staticClass:"ideas__list"},t._l(t.Ideas,(function(e){return n("div",{key:e.id,staticClass:"idea",class:{autoHeight:t.showDescriptionById===e.id}},[n("div",{staticClass:"idea__section"},[n("h2",[t._v(t._s(t.longString(e.title,30)))]),n("p",{staticClass:"text--grey text--sm nowrap"},[t._v(t._s(t.formatDate(e.updatedOn)))])]),n("div",{staticClass:"idea__createdBy idea__section"},[n("p",{staticClass:"text--grey text--sm"},[t._v("By: "+t._s(e.createdBy.fullName))])]),n("div",{staticClass:"idea__view"},[n("button",{staticClass:"btn btn--xs btn--borderBlue btn--borderBottom",on:{click:function(n){return t.toggleShowDescription(e.id)}}},[t._v("view")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showDescriptionById===e.id,expression:"showDescriptionById === idea.id"}],staticClass:"idea__description",class:[t.showDescriptionById===e.id?"show":"hide"]},[t.showDescriptionById===e.id?n("p",[t._v(t._s(e.description))]):t._e()])])})),0)],1)},a=[],r=(n("d3b7"),n("9ab4")),s=n("60a3"),o=n("86bc"),d="/ideas",c=function(){function t(){}return t.AllIdeas=function(){return Object(r["a"])(this,void 0,Promise,(function(){return Object(r["d"])(this,(function(t){switch(t.label){case 0:return[4,o["a"].get(d+"/AllIdeas")];case 1:return[2,t.sent()]}}))}))},t.AddIdea=function(t){return Object(r["a"])(this,void 0,Promise,(function(){return Object(r["d"])(this,(function(e){switch(e.label){case 0:return[4,o["a"].post(d+"/AddIdea",t)];case 1:return[2,e.sent()]}}))}))},t}(),u=c,l=n("2b89"),f=n("4ee0"),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.addIdea={title:"",description:""},e.isAddingIdea=!1,e.Ideas=[],e.showDescriptionById=null,e.loading=!1,e}return Object(r["c"])(e,t),e.prototype.mounted=function(){this.getIdeas(),this.$store.dispatch("uiStore/_setHeader",{current:"main",isShowing:!0,title:"Ideas"})},e.prototype.longString=function(t,e){return l["a"].formatLongString(t,e)},e.prototype.toggleAddIdea=function(t){this.isAddingIdea=t,t?this.$store.dispatch("uiStore/_setNavBarShowingStatus",!1):this.$store.dispatch("uiStore/_setNavBarShowingStatus",!0)},e.prototype.createIdea=function(){return Object(r["a"])(this,void 0,Promise,(function(){var t,e,n,i=this;return Object(r["d"])(this,(function(a){switch(a.label){case 0:this.loading=!0,t={fullName:this.$store.state.authStore.currentUser.fullName,id:this.$store.state.authStore.currentUser.id,username:this.$store.state.authStore.currentUser.username},a.label=1;case 1:return a.trys.push([1,3,4,5]),this.addIdea.createdBy=t,[4,u.AddIdea(this.addIdea)];case 2:return e=a.sent(),200===e.status&&this.Ideas.push(e.data),[3,5];case 3:return n=a.sent(),console.log(n),[3,5];case 4:return setTimeout((function(){i.loading=!1}),3e3),[7];case 5:return[2]}}))}))},e.prototype.toggleShowDescription=function(t){this.showDescriptionById!==t?this.showDescriptionById=t:this.showDescriptionById=null},e.prototype.getIdeas=function(){return Object(r["a"])(this,void 0,Promise,(function(){var t,e;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,u.AllIdeas()];case 1:return t=n.sent(),this.Ideas=t.data,[3,3];case 2:return e=n.sent(),console.log(e),[3,3];case 3:return[2]}}))}))},e=Object(r["b"])([Object(s["a"])({name:"Ideas",components:{Modal:function(){return n.e("chunk-1ea71db0").then(n.bind(null,"35f7"))},Loading:function(){return n.e("chunk-7f1bdce6").then(n.bind(null,"866a"))}},mixins:[f["a"]]})],e),e}(s["d"]),p=h,b=p,g=(n("b4b2"),n("2877")),v=Object(g["a"])(b,i,a,!1,null,"d95c3ad2",null);e["default"]=v.exports},e58c:function(t,e,n){"use strict";var i=n("fc6a"),a=n("a691"),r=n("50c4"),s=n("a640"),o=n("ae40"),d=Math.min,c=[].lastIndexOf,u=!!c&&1/[1].lastIndexOf(1,-0)<0,l=s("lastIndexOf"),f=o("indexOf",{ACCESSORS:!0,1:0}),h=u||!l||!f;t.exports=h?function(t){if(u)return c.apply(this,arguments)||0;var e=i(this),n=r(e.length),s=n-1;for(arguments.length>1&&(s=d(s,a(arguments[1]))),s<0&&(s=n+s);s>=0;s--)if(s in e&&e[s]===t)return s||0;return-1}:c}}]);
//# sourceMappingURL=view-Ideas-vue.09858950.js.map