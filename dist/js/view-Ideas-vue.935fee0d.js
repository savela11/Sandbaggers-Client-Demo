(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["view-Ideas-vue"],{"356a":function(t,e,n){t.exports=n.p+"img/addCircle.e9f990d0.svg"},"4ee0":function(t,e,n){"use strict";n("a15b"),n("baa5");var i,r,a=n("9ab4"),s=n("1b40"),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a["c"])(e,t),e.prototype.formatDate=function(t){var e=new Date(t),n=""+(e.getMonth()+1),i=""+e.getDate(),r=e.getFullYear();return n.length<2&&(n="0"+n),i.length<2&&(i="0"+i),[n,i,r].join("-")},e.prototype.formatLongString=function(t,e){if(null==t)return"";if(t.length<=e)return t;t=t.substring(0,e);var n=t.lastIndexOf(" ");return t=t.substring(0,n),t+"..."},e=Object(a["b"])([s["a"]],e),e}(s["d"]),d=o,c=d,u=n("2877"),l=Object(u["a"])(c,i,r,!1,null,null,null);e["a"]=l.exports},"5a04":function(t,e,n){"use strict";n("f657")},8418:function(t,e,n){"use strict";var i=n("c04e"),r=n("9bf2"),a=n("5c6c");t.exports=function(t,e,n){var s=i(e);s in t?r.f(t,s,a(0,n)):t[s]=n}},"86bc":function(t,e,n){"use strict";n("d3b7");var i=n("9ab4"),r=n("bc3a"),a=n.n(r),s=n("88b4"),o=n.n(s),d=n("0613"),c="https://sandbaggerapi.azurewebsites.net/api",u=new o.a({isCompression:!1}),l=a.a.create({baseURL:c});l.interceptors.request.use((function(t){t.withCredentials=!0,a.a.defaults.headers.common["Authorization"]="",delete a.a.defaults.headers.common["Authorization"];var e=JSON.parse(u.get("User"));if(null!=e.authStore.currentUser){var n=e.authStore.currentUser.token;n&&(t.headers.common.Authorization="Bearer "+n)}return t}),(function(t){return console.log("error",t),Promise.reject(t)})),l.interceptors.response.use((function(t){return t}),(function(t){return Object(i["a"])(void 0,void 0,void 0,(function(){return Object(i["d"])(this,(function(e){switch(e.label){case 0:return t&&t.response?401!==t.response.status&&"Unauthorized"!==t.response.statusText&&500!==t.response.status?[3,2]:[4,d["a"].dispatch("authStore/Logout")]:[3,2];case 1:e.sent(),e.label=2;case 2:return t&&t.message?"Network Error"!==t.message?[3,4]:[4,d["a"].dispatch("authStore/Logout")]:[3,4];case 3:e.sent(),console.log("Error!",t.message),e.label=4;case 4:return[2,Promise.reject(t.response)]}}))}))})),e["a"]=l},"8d2e":function(t,e,n){"use strict";n("d3b7");var i=n("9ab4"),r=n("86bc"),a="/ideas",s=function(){function t(){}return t.AllIdeas=function(){return Object(i["a"])(this,void 0,Promise,(function(){return Object(i["d"])(this,(function(t){switch(t.label){case 0:return[4,r["a"].get(a+"/AllIdeas")];case 1:return[2,t.sent()]}}))}))},t.AddIdea=function(t){return Object(i["a"])(this,void 0,Promise,(function(){return Object(i["d"])(this,(function(e){switch(e.label){case 0:return[4,r["a"].post(a+"/AddIdea",t)];case 1:return[2,e.sent()]}}))}))},t.UpdateIdea=function(t){return Object(i["a"])(this,void 0,Promise,(function(){return Object(i["d"])(this,(function(e){switch(e.label){case 0:return[4,r["a"].put(a+"/UpdateIdea",t)];case 1:return[2,e.sent()]}}))}))},t.Idea=function(t){return Object(i["a"])(this,void 0,Promise,(function(){return Object(i["d"])(this,(function(e){switch(e.label){case 0:return[4,r["a"].post(a+"/Idea",t)];case 1:return[2,e.sent()]}}))}))},t}();e["a"]=s},ccc6:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ideas"},[t.isAddingIdea?i("Modal",{attrs:{isFooter:!1},on:{click:function(e){return t.toggleAddIdea(!1)}},scopedSlots:t._u([{key:"header",fn:function(){return[t.loading?t._e():i("h2",{staticClass:"text text--bold text--lg color--primary"},[t._v("Add Idea")])]},proxy:!0},{key:"body",fn:function(){return[t.loading?t._e():i("form",{staticClass:"form--addIdea"},[i("InputField",{attrs:{className:"sm secondary",isActive:""!==t.addIdea.title},scopedSlots:t._u([{key:"field",fn:function(){return[i("label",{attrs:{for:"title"}},[t._v("Title")]),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.addIdea.title,expression:"addIdea.title",modifiers:{trim:!0}}],attrs:{type:"text",id:"title"},domProps:{value:t.addIdea.title},on:{input:function(e){e.target.composing||t.$set(t.addIdea,"title",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]},proxy:!0}],null,!1,1949298487)}),i("InputField",{attrs:{isActive:""!==t.addIdea.description},scopedSlots:t._u([{key:"field",fn:function(){return[i("label",{attrs:{for:"description"}},[t._v("Description")]),i("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.addIdea.description,expression:"addIdea.description",modifiers:{trim:!0}}],attrs:{type:"text",id:"description"},domProps:{value:t.addIdea.description},on:{input:function(e){e.target.composing||t.$set(t.addIdea,"description",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]},proxy:!0}],null,!1,1801068397)}),i("div",{staticClass:"btnContainer"},[i("button",{staticClass:"btn btn--sm btn--bg-darkBlue",attrs:{id:"addIdeaBTN"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.createIdea(e)}}},[t._v("Add")])])],1),t.loading?i("Loading"):t._e()]},proxy:!0}],null,!1,723070425)}):t._e(),i("div",{staticClass:"addIdea"},[i("button",{on:{click:function(e){return t.toggleAddIdea(!0)}}},[i("img",{attrs:{src:n("356a"),alt:"add circle"}})])]),i("div",{staticClass:"ideas__list"},[t._l(t.paginatedIdeas,(function(e){return i("div",{key:e.id,staticClass:"idea",class:{autoHeight:t.showDescriptionById===e.id}},[i("div",{staticClass:"section title"},[i("h2",{staticClass:"ideaTitle"},[t._v(t._s(t.longString(e.title,30)))]),i("p",{staticClass:"ideaCreatedOn"},[t._v(t._s(t.formatDate(e.updatedOn)))])]),i("div",{staticClass:"section createdBy"},[i("p",{staticClass:"createdByFullName"},[t._v("By: "+t._s(e.createdBy.fullName))]),i("button",{staticClass:"btn btn--xs btn--border-darkBlue btn--borderBottom",on:{click:function(n){return t.toggleShowDescription(e.id)}}},[t._v("view")])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showDescriptionById===e.id,expression:"showDescriptionById === idea.id"}],staticClass:"section description",class:[t.showDescriptionById===e.id?"show":"hide"]},[i("hr",{staticClass:"divider"}),t.$store.state.authStore.currentUser.id===e.createdBy.id?i("div",{staticClass:"description__edit"},[i("router-link",{attrs:{to:"/ideas/editIdea/"+e.id}},[t._v("Edit")])],1):t._e(),i("div",{staticClass:"description__text"},[t.showDescriptionById===e.id?i("p",[t._v(t._s(e.description))]):t._e()])])])})),t.paginatedIdeas.length>0?i("div",{staticClass:"prevNextButtons"},[i("button",{attrs:{disabled:0===t.pageNumber},on:{click:function(e){return t.changePage("previous")}}},[t._v("Previous")]),i("button",{attrs:{disabled:t.pageNumber>=t.ideaCount-1},on:{click:function(e){return t.changePage("next")}}},[t._v("Next")])]):t._e()],2)],1)},r=[],a=(n("fb6a"),n("d3b7"),n("9ab4")),s=n("1b40"),o=n("8d2e"),d=n("2b89"),c=n("4ee0"),u=n("53ec"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.addIdea={title:"",description:""},e.isAddingIdea=!1,e.Ideas=[],e.showDescriptionById=null,e.loading=!1,e.editIdeaID=null,e.size=10,e.pageNumber=0,e}return Object(a["c"])(e,t),e.prototype.mounted=function(){this.getIdeas()},e.prototype.editIdea=function(t){this.editIdeaID=t},Object.defineProperty(e.prototype,"paginatedIdeas",{get:function(){var t=this.pageNumber*this.size,e=t+this.size;return this.Ideas.slice(t,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ideaCount",{get:function(){var t=this.Ideas.length,e=this.size;return Math.ceil(t/e)},enumerable:!1,configurable:!0}),e.prototype.changePage=function(t){"next"===t?this.pageNumber++:this.pageNumber--,u["a"].verticalSmoothScroll(300,"top")},e.prototype.filterIdeas=function(t){return t.sort((function(t,e){return Date.parse(e.createdOn)-Date.parse(t.createdOn)}))},e.prototype.longString=function(t,e){return d["a"].formatLongString(t,e)},e.prototype.toggleAddIdea=function(t){this.isAddingIdea=t},e.prototype.createIdea=function(){return Object(a["a"])(this,void 0,Promise,(function(){var t,e,n=this;return Object(a["d"])(this,(function(i){switch(i.label){case 0:this.loading=!0,i.label=1;case 1:return i.trys.push([1,3,4,5]),this.addIdea.userId=this.$store.state.authStore.currentUser.id,[4,o["a"].AddIdea(this.addIdea)];case 2:return t=i.sent(),200===t.status&&(this.Ideas.push(t.data),setTimeout((function(){n.toggleAddIdea(!1)}),Math.floor(3e3*Math.random()))),[3,5];case 3:return e=i.sent(),console.log(e),[3,5];case 4:return setTimeout((function(){n.loading=!1}),3e3),[7];case 5:return[2]}}))}))},e.prototype.toggleShowDescription=function(t){this.showDescriptionById!==t?this.showDescriptionById=t:this.showDescriptionById=null},e.prototype.getIdeas=function(){return Object(a["a"])(this,void 0,Promise,(function(){var t,e;return Object(a["d"])(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,o["a"].AllIdeas()];case 1:return t=n.sent(),this.Ideas=this.filterIdeas(t.data),[3,3];case 2:return e=n.sent(),console.log(e),[3,3];case 3:return[2]}}))}))},e=Object(a["b"])([Object(s["a"])({name:"Ideas",components:{Modal:function(){return n.e("chunk-c13f7c1c").then(n.bind(null,"35f7"))},Loading:function(){return n.e("chunk-9c9507fc").then(n.bind(null,"866a"))},InputField:function(){return n.e("chunk-596959b6").then(n.bind(null,"fc45"))}},mixins:[c["a"]]})],e),e}(s["d"]),p=l,f=p,h=(n("5a04"),n("2877")),b=Object(h["a"])(f,i,r,!1,null,"30d41adf",null);e["default"]=b.exports},f657:function(t,e,n){},fb6a:function(t,e,n){"use strict";var i=n("23e7"),r=n("861d"),a=n("e8b5"),s=n("23cb"),o=n("50c4"),d=n("fc6a"),c=n("8418"),u=n("b622"),l=n("1dde"),p=n("ae40"),f=l("slice"),h=p("slice",{ACCESSORS:!0,0:0,1:2}),b=u("species"),g=[].slice,v=Math.max;i({target:"Array",proto:!0,forced:!f||!h},{slice:function(t,e){var n,i,u,l=d(this),p=o(l.length),f=s(t,p),h=s(void 0===e?p:e,p);if(a(l)&&(n=l.constructor,"function"!=typeof n||n!==Array&&!a(n.prototype)?r(n)&&(n=n[b],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return g.call(l,f,h);for(i=new(void 0===n?Array:n)(v(h-f,0)),u=0;f<h;f++,u++)f in l&&c(i,u,l[f]);return i.length=u,i}})}}]);
//# sourceMappingURL=view-Ideas-vue.935fee0d.js.map