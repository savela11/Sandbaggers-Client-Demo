(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["view-auth-Login-vue"],{5326:function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"login"},[t.DataLoading?t._e():r("form",{staticClass:"form form--login"},[r("div",{staticClass:"form__field"},[r("label",{attrs:{for:"username"}},[t._v("Username")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.LoginForm.username,expression:"LoginForm.username",modifiers:{trim:!0}}],attrs:{type:"text",id:"username"},domProps:{value:t.LoginForm.username},on:{input:function(e){e.target.composing||t.$set(t.LoginForm,"username",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),r("div",{staticClass:"form__field"},[r("label",{attrs:{for:"password"}},[t._v("Password")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.LoginForm.password,expression:"LoginForm.password",modifiers:{trim:!0}}],attrs:{type:"password",id:"password"},domProps:{value:t.LoginForm.password},on:{input:function(e){e.target.composing||t.$set(t.LoginForm,"password",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),r("div",{staticClass:"btnContainer"},[r("button",{staticClass:"btn btn--blue btn--sm",attrs:{id:"loginBTN"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.onSubmit(e)}}},[t._v("Login")])])]),t.DataLoading?t._e():r("div",{staticClass:"greyLinks"},[r("p",[t._v("Need an account? "),r("router-link",{attrs:{to:"/register"}},[t._v("Register")])],1)]),t.DataLoading?r("Loading"):t._e()],1)},a=[],n=(r("d3b7"),r("9ab4")),o=r("60a3"),i=r("7cf9"),u=r("53ec"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loading=!1,e.LoginForm={username:"",password:""},e.showPassword=!1,e}return Object(n["c"])(e,t),e.prototype.mounted=function(){},Object.defineProperty(e.prototype,"DataLoading",{get:function(){return this.$store.getters["uiStore/DataLoadingStatus"]},enumerable:!0,configurable:!0}),e.prototype.validateForm=function(){if(""===this.LoginForm.username||""===this.LoginForm.password){var t={title:"Login Error",message:"Please provide username and password",isSnackBarShowing:!0,class:"error",errors:[]};return this.$store.dispatch("uiStore/_setSnackBar",t),!1}return!0},e.prototype.onSubmit=function(){return Object(n["a"])(this,void 0,Promise,(function(){var t,e,r,s;return Object(n["d"])(this,(function(a){switch(a.label){case 0:return u["a"].clickedButton("loginBTN"),t=this.validateForm(),t?[4,this.$store.dispatch("uiStore/_setDataLoading",!0)]:[3,12];case 1:a.sent(),a.label=2;case 2:return a.trys.push([2,7,,11]),[4,i["a"].loginUser(this.LoginForm)];case 3:return e=a.sent(),200!==e.status?[3,5]:[4,this.$store.dispatch("authStore/SetLoggedInUser",e.data)];case 4:a.sent(),a.label=5;case 5:return[4,this.$store.dispatch("uiStore/_setDataLoading",!1)];case 6:return a.sent(),[3,11];case 7:return r=a.sent(),r.data?(s={title:"Login Error",message:r.data.message,isSnackBarShowing:!0,class:"error",errors:[]},[4,this.$store.dispatch("uiStore/_setSnackBar",s,{root:!0})]):[3,9];case 8:a.sent(),a.label=9;case 9:return[4,this.$store.dispatch("uiStore/_setDataLoading",!1,{root:!0})];case 10:return a.sent(),[3,11];case 11:return[3,14];case 12:return[4,this.$store.dispatch("uiStore/_setDataLoading",!1)];case 13:return a.sent(),[2];case 14:return[2]}}))}))},e=Object(n["b"])([Object(o["a"])({name:"Login",components:{Loading:function(){return r.e("chunk-75293f4f").then(r.bind(null,"866a"))}}})],e),e}(o["d"]),d=c,l=d,m=(r("c055"),r("2877")),p=Object(m["a"])(l,s,a,!1,null,"268dd918",null);e["default"]=p.exports},"5b30":function(t,e,r){},c055:function(t,e,r){"use strict";var s=r("5b30"),a=r.n(s);a.a}}]);
//# sourceMappingURL=view-auth-Login-vue.595ecb6b.js.map