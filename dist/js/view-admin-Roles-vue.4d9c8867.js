(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["view-admin-Roles-vue"],{"0888":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"roles"},[!e.loading&&e.selectedRole?n("div",[n("div",{staticClass:"utility"},[n("button",{staticClass:"btn btn--xs btn--borderBottom btn--border-darkGreen"},[e._v("Create")]),n("SelectBoxComponent",{attrs:{options:e.filterOptions,displayValue:"roleName",selectedOption:e.selectedRole,showOptions:e.showOptions},on:{"update:options":function(t){e.filterOptions=t},"update:selectedOption":function(t){e.selectedRole=t},"update:selected-option":function(t){e.selectedRole=t},"select-option":e.selectRole,"toggle-show-options":e.toggleShowOptions}})],1),n("div",{staticClass:"selectedRole"},[n("h2",{staticClass:"text text--xl text--bold"},[e._v(e._s(e.selectedRole.roleName))]),n("ViewBtns",{attrs:{viewButtons:e.viewButtons,activeViewBtn:e.activeViewBtn},on:{"selected-btn":e.toggleActiveView}}),n("div",{directives:[{name:"show",rawName:"v-show",value:"with"===e.activeViewBtn,expression:"activeViewBtn === 'with'"}],staticClass:"users withRole"},e._l(e.selectedRole.members,(function(t){return n("div",{key:t.id,staticClass:"user"},[n("p",{staticClass:"text text--lg"},[e._v(e._s(t.fullName))]),n("IconBtn",{on:{click:function(n){return e.removeUserWithRole(t)}},scopedSlots:e._u([{key:"svg",fn:function(){return[n("svg",{attrs:{viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M12.5 0C5.5971 0 0 5.5971 0 12.5C0 19.4029 5.5971 25 12.5 25C19.4029 25 25 19.4029 25 12.5C25 5.5971 19.4029 0 12.5 0ZM17.8571 13.1696C17.8571 13.2924 17.7567 13.3929 17.6339 13.3929H7.36607C7.2433 13.3929 7.14286 13.2924 7.14286 13.1696V11.8304C7.14286 11.7076 7.2433 11.6071 7.36607 11.6071H17.6339C17.7567 11.6071 17.8571 11.7076 17.8571 11.8304V13.1696Z",fill:"#9F0000"}})])]},proxy:!0}],null,!0)})],1)})),0),n("div",{directives:[{name:"show",rawName:"v-show",value:"without"===e.activeViewBtn,expression:"activeViewBtn === 'without'"}],staticClass:"users withoutRole"},e._l(e.selectedRole.nonMembers,(function(t){return n("div",{key:t.id,staticClass:"user"},[n("p",{staticClass:"text text--lg"},[e._v(e._s(t.fullName))]),n("IconBtn",{on:{click:function(n){return e.addUserToRole(t)}},scopedSlots:e._u([{key:"svg",fn:function(){return[n("svg",{attrs:{viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M12.5 0C5.6 0 0 5.6 0 12.5C0 19.4 5.6 25 12.5 25C19.4 25 25 19.4 25 12.5C25 5.6 19.4 0 12.5 0ZM18.75 13.75H13.75V18.75H11.25V13.75H6.25V11.25H11.25V6.25H13.75V11.25H18.75V13.75Z",fill:"#167230"}})])]},proxy:!0}],null,!0)})],1)})),0)],1)]):n("Loading")],1)},r=[],s=(n("4de4"),n("7db0"),n("d3b7"),n("9ab4")),i=n("1b40"),c=n("86bc"),a="/roles",u=function(){function e(){}return e.roleList=function(){return Object(s["a"])(this,void 0,Promise,(function(){return Object(s["d"])(this,(function(e){switch(e.label){case 0:return[4,c["a"].get(a+"/Roles")];case 1:return[2,e.sent()]}}))}))},e.RemoveUserFromRole=function(e){return Object(s["a"])(this,void 0,Promise,(function(){return Object(s["d"])(this,(function(t){switch(t.label){case 0:return[4,c["a"].post(a+"/RemoveUserFromRole",e)];case 1:return[2,t.sent()]}}))}))},e.AddUserToRole=function(e){return Object(s["a"])(this,void 0,Promise,(function(){return Object(s["d"])(this,(function(t){switch(t.label){case 0:return[4,c["a"].post(a+"/AddUserToRole",e)];case 1:return[2,t.sent()]}}))}))},e}(),l=u,d=n("53ec"),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.loading=!0,t.roles=[],t.selectedRole={},t.showOptions=!1,t.viewButtons=["with","without"],t.activeViewBtn="with",t}return Object(s["c"])(t,e),t.prototype.mounted=function(){this.getRoles()},t.prototype.toggleActiveView=function(e){this.activeViewBtn=e},t.prototype.toggleShowOptions=function(e){this.showOptions=e},Object.defineProperty(t.prototype,"filterOptions",{get:function(){var e=this;return this.selectedRole?this.roles.filter((function(t){return t.roleName!==e.selectedRole.roleName})):[]},enumerable:!1,configurable:!0}),t.prototype.addUserToRole=function(e){return Object(s["a"])(this,void 0,Promise,(function(){var t,n,o,r=this;return Object(s["d"])(this,(function(s){switch(s.label){case 0:t={roleName:this.selectedRole.roleName,userId:e.id},s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,l.AddUserToRole(t)];case 2:return n=s.sent(),200===n.status&&(d["a"].SnackBar({title:"Success",message:e.fullName+" has been added to "+this.selectedRole.roleName+" role",isSnackBarShowing:!0,classInfo:"primary"}),setTimeout((function(){r.$router.go(0)}),3e3)),[3,5];case 3:return o=s.sent(),console.log(o),[3,5];case 4:return[7];case 5:return[2]}}))}))},t.prototype.removeUserWithRole=function(e){return Object(s["a"])(this,void 0,Promise,(function(){var t,n,o,r=this;return Object(s["d"])(this,(function(s){switch(s.label){case 0:t={roleName:this.selectedRole.roleName,userId:e.id},s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,l.RemoveUserFromRole(t)];case 2:return n=s.sent(),200===n.status&&(d["a"].SnackBar({title:"Success",message:e.fullName+" has been removed from "+this.selectedRole.roleName+" role",isSnackBarShowing:!0,classInfo:"primary"}),setTimeout((function(){r.$router.go(0)}),3e3)),[3,5];case 3:return o=s.sent(),console.log(o),[3,5];case 4:return[7];case 5:return[2]}}))}))},t.prototype.getRoles=function(){return Object(s["a"])(this,void 0,Promise,(function(){var e,t,n=this;return Object(s["d"])(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,3,4]),[4,l.roleList()];case 1:return e=o.sent(),200===e.status&&(this.roles=e.data,this.selectedRole=e.data.find((function(e){return"Admin"===e.roleName}))),[3,4];case 2:return t=o.sent(),console.log(t),[3,4];case 3:return setTimeout((function(){n.loading=!1}),Math.floor(3e3*Math.random())),[7];case 4:return[2]}}))}))},t.prototype.selectRole=function(e){this.selectedRole=e,this.showOptions=!1},t=Object(s["b"])([Object(i["a"])({components:{SelectBoxComponent:function(){return n.e("chunk-d9a5e32e").then(n.bind(null,"a017"))},Loading:function(){return n.e("chunk-9c9507fc").then(n.bind(null,"866a"))},IconBtn:function(){return n.e("chunk-0dedf277").then(n.bind(null,"ed18"))},ViewBtns:function(){return n.e("chunk-2d0aa615").then(n.bind(null,"1187"))}}})],t),t}(i["d"]),h=f,p=h,v=(n("b9c1"),n("2877")),b=Object(v["a"])(p,o,r,!1,null,"5fe80a82",null);t["default"]=b.exports},"1dde":function(e,t,n){var o=n("d039"),r=n("b622"),s=n("2d00"),i=r("species");e.exports=function(e){return s>=51||!o((function(){var t=[],n=t.constructor={};return n[i]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"206c":function(e,t,n){},"4de4":function(e,t,n){"use strict";var o=n("23e7"),r=n("b727").filter,s=n("1dde"),i=n("ae40"),c=s("filter"),a=i("filter");o({target:"Array",proto:!0,forced:!c||!a},{filter:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},"65f0":function(e,t,n){var o=n("861d"),r=n("e8b5"),s=n("b622"),i=s("species");e.exports=function(e,t){var n;return r(e)&&(n=e.constructor,"function"!=typeof n||n!==Array&&!r(n.prototype)?o(n)&&(n=n[i],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},"7db0":function(e,t,n){"use strict";var o=n("23e7"),r=n("b727").find,s=n("44d2"),i=n("ae40"),c="find",a=!0,u=i(c);c in[]&&Array(1)[c]((function(){a=!1})),o({target:"Array",proto:!0,forced:a||!u},{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),s(c)},"86bc":function(e,t,n){"use strict";n("d3b7");var o=n("9ab4"),r=n("bc3a"),s=n.n(r),i=n("88b4"),c=n.n(i),a=n("0613"),u="https://sandbaggerapi.azurewebsites.net/api",l=new c.a({isCompression:!1}),d=s.a.create({baseURL:u});d.interceptors.request.use((function(e){e.withCredentials=!0,s.a.defaults.headers.common["Authorization"]="",delete s.a.defaults.headers.common["Authorization"];var t=JSON.parse(l.get("User"));if(null!=t.authStore.currentUser){var n=t.authStore.currentUser.token;n&&(e.headers.common.Authorization="Bearer "+n)}return e}),(function(e){return console.log("error",e),Promise.reject(e)})),d.interceptors.response.use((function(e){return e}),(function(e){return Object(o["a"])(void 0,void 0,void 0,(function(){return Object(o["d"])(this,(function(t){switch(t.label){case 0:return e&&e.response?401!==e.response.status&&"Unauthorized"!==e.response.statusText&&500!==e.response.status?[3,2]:[4,a["a"].dispatch("authStore/Logout")]:[3,2];case 1:t.sent(),t.label=2;case 2:return e&&e.message?"Network Error"!==e.message?[3,4]:[4,a["a"].dispatch("authStore/Logout")]:[3,4];case 3:t.sent(),console.log("Error!",e.message),t.label=4;case 4:return[2,Promise.reject(e.response)]}}))}))})),t["a"]=d},b727:function(e,t,n){var o=n("0366"),r=n("44ad"),s=n("7b0b"),i=n("50c4"),c=n("65f0"),a=[].push,u=function(e){var t=1==e,n=2==e,u=3==e,l=4==e,d=6==e,f=7==e,h=5==e||d;return function(p,v,b,m){for(var w,g,R=s(p),y=r(R),O=o(v,b,3),C=i(y.length),B=0,x=m||c,j=t?x(p,C):n||f?x(p,0):void 0;C>B;B++)if((h||B in y)&&(w=y[B],g=O(w,B,R),e))if(t)j[B]=g;else if(g)switch(e){case 3:return!0;case 5:return w;case 6:return B;case 2:a.call(j,w)}else switch(e){case 4:return!1;case 7:a.call(j,w)}return d?-1:u||l?l:j}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterOut:u(7)}},b9c1:function(e,t,n){"use strict";n("206c")},e8b5:function(e,t,n){var o=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==o(e)}}}]);
//# sourceMappingURL=view-admin-Roles-vue.4d9c8867.js.map