(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["view-Gallery-vue"],{"0d77":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"gallery"},[t.loading?a("Loading"):a("div",[t.galleries.length>0?a("div",{staticClass:"list"},t._l(t.galleries,(function(e){return a("div",{key:e.eventId,staticClass:"event"},[a("div",{staticClass:"container"},[a("div",{staticClass:"top"},[a("h2",{staticClass:"text text--title text--bold color--primary"},[t._v(t._s(e.name))])]),a("div",{staticClass:"bottom"},[a("div",{staticClass:"imgContainer",class:{noImage:""===e.mainImg}},[a("img",{staticClass:"z1",attrs:{src:t.setDefaultGalleryImage(e.mainImg),alt:"Main Gallery Image"}}),a("div",{staticClass:"numOfImages z2"},[a("p",{staticClass:"text text--bold text--md text--center color--white"},[t._v("Images: "+t._s(e.numOfImages))])])]),a("div",{staticClass:"info"},[a("router-link",{staticClass:"text text--decoration-none text--center text--bold text--md color--white bg--secondary",attrs:{to:"/gallery/"+e.eventId}},[t._v("View Images")])],1)])])])})),0):a("div",[a("p",[t._v("No Gallery Created")])])])],1)},n=[],r=(a("d3b7"),a("9ab4")),i=a("1b40"),o=a("a499"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loading=!0,e.galleries=[],e}return Object(r["c"])(e,t),e.prototype.mounted=function(){this.getGalleries()},e.prototype.getGalleries=function(){return Object(r["a"])(this,void 0,Promise,(function(){var t,e,a=this;return Object(r["d"])(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,o["a"].Galleries()];case 1:return t=s.sent(),200===t.status&&(this.galleries=t.data,setTimeout((function(){a.loading=!1}),Math.floor(3e3*Math.random()))),[3,3];case 2:return e=s.sent(),console.log(e),this.loading=!1,[3,3];case 3:return[2]}}))}))},e.prototype.setDefaultGalleryImage=function(t){return null==t||""===t?"https://images.unsplash.com/photo-1587174486073-ae5e5cff23aa?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1350&q=80":t},e=Object(r["b"])([Object(i["a"])({name:"Gallery",components:{Loading:function(){return a.e("chunk-9c9507fc").then(a.bind(null,"866a"))}}})],e),e}(i["d"]),l=c,u=l,d=(a("d3bb"),a("2877")),b=Object(d["a"])(u,s,n,!1,null,"3c8a7425",null);e["default"]=b.exports},"86bc":function(t,e,a){"use strict";a("d3b7");var s=a("9ab4"),n=a("bc3a"),r=a.n(n),i=a("88b4"),o=a.n(i),c=a("0613"),l="https://sandbaggerapi.azurewebsites.net/api",u=new o.a({isCompression:!1}),d=r.a.create({baseURL:l});d.interceptors.request.use((function(t){t.withCredentials=!0,r.a.defaults.headers.common["Authorization"]="",delete r.a.defaults.headers.common["Authorization"];var e=JSON.parse(u.get("User"));if(null!=e.authStore.currentUser){var a=e.authStore.currentUser.token;a&&(t.headers.common.Authorization="Bearer "+a)}return t}),(function(t){return console.log("error",t),Promise.reject(t)})),d.interceptors.response.use((function(t){return t}),(function(t){return Object(s["a"])(void 0,void 0,void 0,(function(){return Object(s["d"])(this,(function(e){switch(e.label){case 0:return t&&t.response?401!==t.response.status&&"Unauthorized"!==t.response.statusText&&500!==t.response.status?[3,2]:[4,c["a"].dispatch("authStore/Logout")]:[3,2];case 1:e.sent(),e.label=2;case 2:return t&&t.message?"Network Error"!==t.message?[3,4]:[4,c["a"].dispatch("authStore/Logout")]:[3,4];case 3:e.sent(),console.log("Error!",t.message),e.label=4;case 4:return[2,Promise.reject(t.response)]}}))}))})),e["a"]=d},a499:function(t,e,a){"use strict";a("d3b7");var s=a("9ab4"),n=a("86bc"),r="/Gallery",i=function(){function t(){}return t.Galleries=function(){return Object(s["a"])(this,void 0,Promise,(function(){return Object(s["d"])(this,(function(t){switch(t.label){case 0:return[4,n["a"].get(r+"/Galleries")];case 1:return[2,t.sent()]}}))}))},t.Gallery=function(t){return Object(s["a"])(this,void 0,Promise,(function(){return Object(s["d"])(this,(function(e){switch(e.label){case 0:return[4,n["a"].get(r+"/Gallery/"+t)];case 1:return[2,e.sent()]}}))}))},t.UploadImage=function(t){return Object(s["a"])(this,void 0,Promise,(function(){return Object(s["d"])(this,(function(e){switch(e.label){case 0:return[4,n["a"].post(r+"/UploadImageToGallery",t)];case 1:return[2,e.sent()]}}))}))},t.AddImageToGallery=function(t){return Object(s["a"])(this,void 0,Promise,(function(){return Object(s["d"])(this,(function(e){switch(e.label){case 0:return[4,n["a"].post(r+"/AddImageToGallery",t)];case 1:return[2,e.sent()]}}))}))},t}();e["a"]=i},d042:function(t,e,a){},d3bb:function(t,e,a){"use strict";a("d042")}}]);
//# sourceMappingURL=view-Gallery-vue.c3afd78d.js.map