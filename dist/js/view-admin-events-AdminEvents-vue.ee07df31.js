(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["view-admin-events-AdminEvents-vue"],{"080e":function(e,t,s){"use strict";var n=s("2bdb"),r=s.n(n);r.a},"159b":function(e,t,s){var n=s("da84"),r=s("fdbc"),a=s("17c2"),i=s("9112");for(var c in r){var o=n[c],u=o&&o.prototype;if(u&&u.forEach!==a)try{i(u,"forEach",a)}catch(l){u.forEach=a}}},1673:function(e,t,s){e.exports=s.p+"img/arrowDown.ae1f93c6.svg"},"17c2":function(e,t,s){"use strict";var n=s("b727").forEach,r=s("a640"),a=s("ae40"),i=r("forEach"),c=a("forEach");e.exports=i&&c?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},"1dde":function(e,t,s){var n=s("d039"),r=s("b622"),a=s("2d00"),i=r("species");e.exports=function(e){return a>=51||!n((function(){var t=[],s=t.constructor={};return s[i]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"2bdb":function(e,t,s){},"2ef1":function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"adminEvents"},[e.loading?e._e():n("div",{staticClass:"views"},[n("div",["Events"===e.view?n("div",{staticClass:"eventView"},[n("div",{staticClass:"eventView__selectBox"},[n("div",{staticClass:"flexWrapper"},[n("div",{staticClass:"addEventButton container"},[n("router-link",{attrs:{to:"/admin/events/createEvent"}},[n("img",{attrs:{src:s("356a"),alt:"Add Event Button"}})]),n("p",[e._v("Add Event")])],1),e.selectedEvent?n("div",{staticClass:"editEventButton container"},[n("router-link",{attrs:{to:"/admin/events/editEvent/"+e.selectedEvent.eventId}},[n("img",{attrs:{src:s("59ab"),alt:"Edit Button"}})]),n("p",[e._v("Edit Event")])],1):e._e()]),n("div",[n("label",{attrs:{for:"events"}},[e._v("Year")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedEvent,expression:"selectedEvent"}],attrs:{id:"events"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedEvent=t.target.multiple?s:s[0]}}},e._l(e.Events,(function(t){return n("option",{key:t.eventId,domProps:{value:t}},[e._v(e._s(t.year))])})),0)])]),n("hr"),e.selectedEvent?n("div",[n("div",{staticClass:"eventName"},[n("div",[n("h2",[e._v(e._s(e.selectedEvent.name))]),n("div",{staticClass:"eventStatusBar"},[n("div",[n("p",{staticClass:"status"},[e._v("Active:")]),n("p",{staticClass:"isPublishedStatus",class:{active:e.selectedEvent.isPublished}},[e._v(e._s(e.selectedEvent.isPublished?"Yes":"No"))])]),n("div",[n("p",{staticClass:"status"},[e._v("Current Year:")]),n("p",{staticClass:"isCurrentYearStatus",class:{active:e.selectedEvent.isCurrentYear}},[e._v(e._s(e.selectedEvent.isCurrentYear?"Yes":"No"))])])])])]),n("div",{staticClass:"eventView__location"},[n("h3",[e._v("Location")]),n("div",[n("p",[e._v(e._s(e.selectedEvent.location.name))]),n("p",[e._v(e._s(e.selectedEvent.location.streetNumbers)+" "+e._s(e.selectedEvent.location.streetName))]),n("p",[e._v(e._s(e.selectedEvent.location.city)+" "+e._s(e.selectedEvent.location.postalCode))])])]),n("div",{staticClass:"eventView__teams"},[n("div",{staticClass:"title"},[n("h3",[e._v("Teams")]),n("div",{staticClass:"addTeam"},[n("router-link",{attrs:{to:{name:"Event Teams",params:{eventId:e.selectedEvent.eventId}}}},[n("img",{attrs:{src:s("59ab"),alt:"Edit Team Button"}})]),n("p",[e._v("Edit Teams")])],1)]),n("div",{staticClass:"teamList"},e._l(e.selectedEvent.teams,(function(t){return n("div",{key:t.teamId,staticClass:"team"},[n("div",{staticClass:"container"},[n("div",{staticClass:"top"},[n("h4",{staticClass:"name"},[e._v("Team "+e._s(t.name))])]),n("div",{staticClass:"middle"},[n("div",{staticClass:"captainContainer"},[n("h4",[e._v("Captain:")]),n("p",[e._v(e._s(e.teamCaptain(t.captain)))])])]),n("div",{staticClass:"bottom"},[n("div",{staticClass:"teamMembers"},[n("div",{staticClass:"teamMembers__teamName"},[n("h4",[e._v(" Team Members: "),n("span",[e._v(e._s(t.teamMembers.length))])]),t.teamMembers.length>0?n("button",{on:{click:function(s){return e.toggleTeamMembersList(t.teamId)}}},[n("img",{attrs:{src:s("1673"),alt:"Down arrow"}})]):e._e()]),e.showTeamMembersForId===t.teamId?n("ul",{staticClass:"teamMembers__memberList"},e._l(t.teamMembers,(function(t){return n("li",{key:t.id},[e._v(e._s(t.fullName))])})),0):e._e()])])])])})),0)])]):e._e()]):e._e(),"Results"===e.view?n("div",{staticClass:"resultsView"},[n("div",{staticClass:"resultsView__viewButtons"},e._l(e.viewButtons,(function(t){return n("button",{key:t,class:{active:e.resultsCurrentView===t},on:{click:function(s){e.resultsCurrentView=t}}},[e._v(" "+e._s(t)+" ")])})),0),n("div",{staticClass:"resultsView__currentChamps section"},[n("div",[n("h3",[e._v("Current Champs?")]),n("button",{staticClass:"btn btn--xs btn--borderBottom btn--borderBlue",class:{activeChamps:!0===e.selectedEvent.eventResults.isActive},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.toggleActiveScrambleChamps(!0)}}},[e._v(" Yes ")]),n("button",{staticClass:"btn btn--xs btn--borderBottom btn--borderBlue",class:{notActiveChamps:!1===e.selectedEvent.eventResults.isActive},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.toggleActiveScrambleChamps(!1)}}},[e._v(" No ")])]),n("div",{staticClass:"champList"},e._l(e.selectedEvent.eventResults.scrambleChamps,(function(t){return n("div",{key:t.userId,staticClass:"champ"},[n("div",{staticClass:"imgContainer"},[n("img",{attrs:{src:e.setScrambleChampProfileImage(t.image),alt:t.name+"Profile picture."}})]),n("p",[e._v(e._s(t.fullName))])])})),0)]),n("div",{staticClass:"resultsView__registeredUsers section"},[n("h3",[e._v("Scramble Champs")]),n("div",{staticClass:"list"},e._l(e.selectedEvent.registeredUsers,(function(t){return n("div",{key:t.id,staticClass:"user"},[n("div",[n("p",[e._v(e._s(t.fullName))])]),n("div",{staticClass:"checkBox"},[n("label",{staticClass:"hideLabel",attrs:{for:"user"}},[e._v(e._s(t.fullName))]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.isCurrentChamp,expression:"user.isCurrentChamp"}],attrs:{type:"checkbox",id:"user"},domProps:{checked:Array.isArray(t.isCurrentChamp)?e._i(t.isCurrentChamp,null)>-1:t.isCurrentChamp},on:{change:[function(s){var n=t.isCurrentChamp,r=s.target,a=!!r.checked;if(Array.isArray(n)){var i=null,c=e._i(n,i);r.checked?c<0&&e.$set(t,"isCurrentChamp",n.concat([i])):c>-1&&e.$set(t,"isCurrentChamp",n.slice(0,c).concat(n.slice(c+1)))}else e.$set(t,"isCurrentChamp",a)},function(s){return e.updateScrambleChamp(t)}]}})])])})),0)])]):e._e()]),e.selectedEvent?n("div",{staticClass:"changeViewButton"},["Events"===e.view?n("button",{staticClass:"btn btn--circle btn--borderBlue btn--borderBottom",attrs:{id:"resultsBTN"},on:{click:function(t){return e.toggleView("Results")}}},[e._v("Results")]):e._e(),"Results"===e.view?n("button",{staticClass:"btn btn--circle",attrs:{id:"eventsBTN"},on:{click:function(t){return e.toggleView("Events")}}},[e._v("Events")]):e._e()]):e._e()]),e.loading?n("Loading"):e._e()],1)},r=[],a=(s("c740"),s("4160"),s("d81d"),s("a434"),s("d3b7"),s("159b"),s("9ab4")),i=s("60a3"),c=s("fe9c"),o=s("bc0f"),u=function(){function e(e,t,s){this.id=e,this.fullName=t,this.image=s}return e}(),l=s("53ec"),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.loading=!1,t.Events=[],t.selectedEvent=null,t.view="Events",t.resultsCurrentView="Scramble Champs",t.viewButtons=["Scramble Champs","Teams"],t.showTeamMembersForId=null,t}return Object(a["c"])(t,e),t.prototype.mounted=function(){this.getEvents(),l["a"].Header({title:"Manage Events",isShowing:!0,current:"main"})},t.prototype.setScrambleChampProfileImage=function(e){return null===e?s("edb4"):e},t.prototype.checkIfScrambleChamp=function(e){this.selectedEvent&&this.selectedEvent.registeredUsers.forEach((function(t){e.forEach((function(e){t.isCurrentChamp=e.id===t.id}))}))},t.prototype.toggleView=function(e){return Object(a["a"])(this,void 0,Promise,(function(){var t,s;return Object(a["d"])(this,(function(n){switch(n.label){case 0:if(null===this.selectedEvent)return[2];if("Results"!==e)return[3,5];l["a"].clickedButton("resultsBTN"),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.eventResults(this.selectedEvent.eventId)];case 2:return t=n.sent(),200===t.status&&(this.selectedEvent.eventResults=t.data,this.checkIfScrambleChamp(t.data.scrambleChamps)),[3,4];case 3:return s=n.sent(),console.log(s),[3,4];case 4:return[3,6];case 5:"Events"===e&&l["a"].clickedButton("eventsBTN"),n.label=6;case 6:return this.view=e,[2]}}))}))},t.prototype.getEvents=function(){return Object(a["a"])(this,void 0,Promise,(function(){var e,t,s;return Object(a["d"])(this,(function(n){switch(n.label){case 0:this.loading=!0,n.label=1;case 1:return n.trys.push([1,4,,5]),[4,c["a"].eventList()];case 2:return e=n.sent().data,this.Events=e,t=null,e.forEach((function(e){e.isCurrentYear&&(t=e)})),null===t&&(t=e[0]),this.selectedEvent=t,this.loading=!1,[4,this.$store.dispatch("uiStore/_setPageLoading",!1)];case 3:return n.sent(),[3,5];case 4:return s=n.sent(),this.loading=!1,console.log(s),[3,5];case 5:return[2]}}))}))},t.prototype.toggleActiveScrambleChamps=function(e){return Object(a["a"])(this,void 0,Promise,(function(){var t,s,n;return Object(a["d"])(this,(function(r){switch(r.label){case 0:return this.selectedEvent&&this.selectedEvent.eventResults?(this.selectedEvent.eventResults.isActive=e,[4,o["a"].UpdateEventResults(this.selectedEvent.eventResults)]):[3,4];case 1:return t=r.sent(),200!==t.status?[3,3]:(s=void 0,e?(n=this.selectedEvent.eventResults.scrambleChamps.map((function(e){return e.fullName+","})),s="Active Scramble Champs have been set to "+n):s="",[4,l["a"].SnackBar({isSnackBarShowing:!0,title:"Scramble Champ Status Updated!",message:s,class:"primary"})]);case 2:r.sent(),r.label=3;case 3:return[3,5];case 4:return[2];case 5:return[2]}}))}))},t.prototype.eventResults=function(e){return Object(a["a"])(this,void 0,Promise,(function(){var t;return Object(a["d"])(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,o["a"].EventResults(e)];case 1:return[2,s.sent()];case 2:return t=s.sent(),console.log(t),[2,t];case 3:return[2]}}))}))},t.prototype.updateEventResults=function(e){return Object(a["a"])(this,void 0,Promise,(function(){var t;return Object(a["d"])(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,o["a"].UpdateEventResults(e)];case 1:return[2,s.sent()];case 2:return t=s.sent(),console.log(t),[2,t];case 3:return[2]}}))}))},t.prototype.updateScrambleChamp=function(e){var t,s,n;return Object(a["a"])(this,void 0,Promise,(function(){var r,i,c,o;return Object(a["d"])(this,(function(a){switch(a.label){case 0:return r=new u(e.id,e.fullName,e.image),i="",(null===(t=this.selectedEvent)||void 0===t?void 0:t.eventResults)?(e.isCurrentChamp?(null===(n=null===(s=this.selectedEvent)||void 0===s?void 0:s.eventResults)||void 0===n||n.scrambleChamps.push(r),i=e.fullName+" was added as a Scramble Champ!"):!1===e.isCurrentChamp&&(c=this.selectedEvent.eventResults.scrambleChamps.findIndex((function(t){return t.id===e.id})),i=e.fullName+" is no longer a Scramble Champ.",this.selectedEvent.eventResults.scrambleChamps.splice(c,1)),[4,this.updateEventResults(this.selectedEvent.eventResults)]):[3,5];case 1:return o=a.sent(),200!==o.status?[3,3]:[4,l["a"].SnackBar({isSnackBarShowing:!0,title:"Scramble Champ Updated",message:i,class:"primary"})];case 2:return a.sent(),[3,5];case 3:return[4,l["a"].SnackBar({isSnackBarShowing:!0,title:"Error updating Scramble Champ",message:"There was an error when trying to update "+e.fullName+" as a Scramble Champ.",class:"error"})];case 4:a.sent(),a.label=5;case 5:return[2]}}))}))},t.prototype.teamCaptain=function(e){return e||"No Captain"},t.prototype.toggleTeamMembersList=function(e){this.showTeamMembersForId!==e?this.showTeamMembersForId=e:this.showTeamMembersForId=null},t=Object(a["b"])([Object(i["a"])({name:"AdminEvents",components:{Loading:function(){return s.e("chunk-7f1bdce6").then(s.bind(null,"866a"))},ResultsView:function(){return s.e("chunk-2d225612").then(s.bind(null,"e3c1"))}}})],t),t}(i["d"]),v=d,m=v,f=(s("080e"),s("2877")),h=Object(f["a"])(m,n,r,!1,null,null,null);t["default"]=h.exports},"356a":function(e,t,s){e.exports=s.p+"img/addCircle.e9f990d0.svg"},4160:function(e,t,s){"use strict";var n=s("23e7"),r=s("17c2");n({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},"59ab":function(e,t,s){e.exports=s.p+"img/editPencil.86a2b22f.svg"},"65f0":function(e,t,s){var n=s("861d"),r=s("e8b5"),a=s("b622"),i=a("species");e.exports=function(e,t){var s;return r(e)&&(s=e.constructor,"function"!=typeof s||s!==Array&&!r(s.prototype)?n(s)&&(s=s[i],null===s&&(s=void 0)):s=void 0),new(void 0===s?Array:s)(0===t?0:t)}},8418:function(e,t,s){"use strict";var n=s("c04e"),r=s("9bf2"),a=s("5c6c");e.exports=function(e,t,s){var i=n(t);i in e?r.f(e,i,a(0,s)):e[i]=s}},a434:function(e,t,s){"use strict";var n=s("23e7"),r=s("23cb"),a=s("a691"),i=s("50c4"),c=s("7b0b"),o=s("65f0"),u=s("8418"),l=s("1dde"),d=s("ae40"),v=l("splice"),m=d("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,h=Math.min,p=9007199254740991,b="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!v||!m},{splice:function(e,t){var s,n,l,d,v,m,C=c(this),E=i(C.length),g=r(e,E),_=arguments.length;if(0===_?s=n=0:1===_?(s=0,n=E-g):(s=_-2,n=h(f(a(t),0),E-g)),E+s-n>p)throw TypeError(b);for(l=o(C,n),d=0;d<n;d++)v=g+d,v in C&&u(l,d,C[v]);if(l.length=n,s<n){for(d=g;d<E-n;d++)v=d+n,m=d+s,v in C?C[m]=C[v]:delete C[m];for(d=E;d>E-n+s;d--)delete C[d-1]}else if(s>n)for(d=E-n;d>g;d--)v=d+n-1,m=d+s-1,v in C?C[m]=C[v]:delete C[m];for(d=0;d<s;d++)C[d+g]=arguments[d+2];return C.length=E-n+s,l}})},a640:function(e,t,s){"use strict";var n=s("d039");e.exports=function(e,t){var s=[][e];return!!s&&n((function(){s.call(null,t||function(){throw 1},1)}))}},b727:function(e,t,s){var n=s("0366"),r=s("44ad"),a=s("7b0b"),i=s("50c4"),c=s("65f0"),o=[].push,u=function(e){var t=1==e,s=2==e,u=3==e,l=4==e,d=6==e,v=5==e||d;return function(m,f,h,p){for(var b,C,E=a(m),g=r(E),_=n(f,h,3),w=i(g.length),S=0,y=p||c,O=t?y(m,w):s?y(m,0):void 0;w>S;S++)if((v||S in g)&&(b=g[S],C=_(b,S,E),e))if(t)O[S]=C;else if(C)switch(e){case 3:return!0;case 5:return b;case 6:return S;case 2:o.call(O,b)}else if(l)return!1;return d?-1:u||l?l:O}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},bc0f:function(e,t,s){"use strict";s("d3b7");var n=s("9ab4"),r=s("86bc"),a="/EventResults",i=function(){function e(){}return e.ScrambleChamps=function(){return Object(n["a"])(this,void 0,Promise,(function(){return Object(n["d"])(this,(function(e){switch(e.label){case 0:return[4,r["a"].get(a+"/ScrambleChamps")];case 1:return[2,e.sent()]}}))}))},e.EventResults=function(e){return Object(n["a"])(this,void 0,Promise,(function(){return Object(n["d"])(this,(function(t){switch(t.label){case 0:return[4,r["a"].get(a+"/Results/"+e)];case 1:return[2,t.sent()]}}))}))},e.UpdateEventResults=function(e){return Object(n["a"])(this,void 0,Promise,(function(){return Object(n["d"])(this,(function(t){switch(t.label){case 0:return[4,r["a"].put(a+"/UpdateEventResults/",e)];case 1:return[2,t.sent()]}}))}))},e}();t["a"]=i},c740:function(e,t,s){"use strict";var n=s("23e7"),r=s("b727").findIndex,a=s("44d2"),i=s("ae40"),c="findIndex",o=!0,u=i(c);c in[]&&Array(1)[c]((function(){o=!1})),n({target:"Array",proto:!0,forced:o||!u},{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),a(c)},d81d:function(e,t,s){"use strict";var n=s("23e7"),r=s("b727").map,a=s("1dde"),i=s("ae40"),c=a("map"),o=i("map");n({target:"Array",proto:!0,forced:!c||!o},{map:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},e8b5:function(e,t,s){var n=s("c6b6");e.exports=Array.isArray||function(e){return"Array"==n(e)}},edb4:function(e,t,s){e.exports=s.p+"img/SBLogo.96946d29.png"},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fe9c:function(e,t,s){"use strict";s("d3b7");var n=s("9ab4"),r=s("86bc"),a="/events",i=function(){function e(){}return e.eventList=function(){return Object(n["a"])(this,void 0,Promise,(function(){return Object(n["d"])(this,(function(e){switch(e.label){case 0:return[4,r["a"].get(a+"/EventList")];case 1:return[2,e.sent()]}}))}))},e.publishedEvents=function(){return Object(n["a"])(this,void 0,Promise,(function(){return Object(n["d"])(this,(function(e){switch(e.label){case 0:return[4,r["a"].get(a+"/PublishedEvents")];case 1:return[2,e.sent()]}}))}))},e.createEvent=function(e){return Object(n["a"])(this,void 0,Promise,(function(){return Object(n["d"])(this,(function(t){switch(t.label){case 0:return[4,r["a"].post(a+"/CreateEvent",e)];case 1:return[2,t.sent()]}}))}))},e.getEventById=function(e){return Object(n["a"])(this,void 0,Promise,(function(){return Object(n["d"])(this,(function(t){switch(t.label){case 0:return[4,r["a"].get(a+"/GetEventById/"+e)];case 1:return[2,t.sent()]}}))}))},e.UpdateEvent=function(e){return Object(n["a"])(this,void 0,Promise,(function(){return Object(n["d"])(this,(function(t){switch(t.label){case 0:return[4,r["a"].put(a+"/UpdateEvent",e)];case 1:return[2,t.sent()]}}))}))},e.RegisterUserForEvent=function(e){return Object(n["a"])(this,void 0,Promise,(function(){return Object(n["d"])(this,(function(t){switch(t.label){case 0:return[4,r["a"].post(a+"/RegisterUserForEvent",e)];case 1:return[2,t.sent()]}}))}))},e.CreateEventTeam=function(e){return Object(n["a"])(this,void 0,Promise,(function(){return Object(n["d"])(this,(function(t){switch(t.label){case 0:return[4,r["a"].post(a+"/CreateTeamForEvent",e)];case 1:return[2,t.sent()]}}))}))},e.EventTeams=function(e){return Object(n["a"])(this,void 0,Promise,(function(){return Object(n["d"])(this,(function(t){return[2,r["a"].get(a+"/EventTeams/"+e)]}))}))},e.UpdateTeam=function(e){return Object(n["a"])(this,void 0,Promise,(function(){return Object(n["d"])(this,(function(t){return[2,r["a"].put(a+"/UpdateTeam/",e)]}))}))},e.deleteEvent=function(e){return Object(n["a"])(this,void 0,Promise,(function(){return Object(n["d"])(this,(function(t){return console.log("[eventId: "+e+"]"),[2,r["a"].delete(a+"/DeleteEvent/"+e)]}))}))},e}();t["a"]=i}}]);
//# sourceMappingURL=view-admin-events-AdminEvents-vue.ee07df31.js.map