(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["view-event-SandbaggerEvents-vue"],{"0fce":function(e,t,n){},"25ee":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sandbaggerEvents"},[e.loading?e._e():n("div",[e.showRegistered?n("Modal",{on:{click:function(t){return e.toggleShowRegisteredUsers(!1)}},scopedSlots:e._u([{key:"header",fn:function(){return[n("div",[n("h2",[e._v("Registered Sandbaggers")])])]},proxy:!0},{key:"body",fn:function(){return[e.modalLoading?e._e():n("div",[n("ol",{staticClass:"sandbaggerList"},e._l(e.selectedEvent.registeredUsers,(function(t){return n("li",{key:t.id},[e._v(e._s(t.fullName))])})),0)]),e.modalLoading?n("div",[n("Loading")],1):e._e()]},proxy:!0},{key:"footer",fn:function(){return[n("div",{staticClass:"registerButton"},[e.IsUserRegistered?e._e():n("button",{staticClass:"btn btn--blue btn--sm",on:{click:e.registerUserForEvent}},[e._v("Register")])])]},proxy:!0}],null,!1,2739915769)}):e._e(),e.selectedEvent?n("div",[n("div",{staticClass:"selectYear"},[n("h2",[e._v(e._s(e.selectedEvent.name))]),n("div",[n("label",{attrs:{for:"events"}},[e._v("Year")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedEvent,expression:"selectedEvent"}],attrs:{id:"events"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedEvent=t.target.multiple?n:n[0]}}},e._l(e.Events,(function(t){return n("option",{key:t.eventId,domProps:{value:t}},[e._v(e._s(t.year))])})),0)])]),n("div",{staticClass:"eventGrid"},[n("div",{staticClass:"location"},[n("p",[e._v(e._s(e.selectedEvent.location.name)+" in "+e._s(e.selectedEvent.location.city)+", MI")])])])]):n("div",{staticClass:"NoEvents"},[n("p",[e._v("No Sandbagger Events created.....")])])],1),e.loading?n("Loading"):e._e()],1)},s=[],i=(n("7db0"),n("c740"),n("d3b7"),n("25f0"),n("9ab4")),a=n("60a3"),o=n("fe9c"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.loading=!0,t.Events=[],t.selectedEvent={},t.showRegistered=!1,t.modalLoading=!1,t}return Object(i["c"])(t,e),t.prototype.mounted=function(){this.$store.dispatch("uiStore/_setHeader",{current:"main",isShowing:!0,title:"Events"}),this.getEvents()},Object.defineProperty(t.prototype,"IsUserRegistered",{get:function(){var e=this;if(this.selectedEvent){var t=this.selectedEvent.registeredUsers.findIndex((function(t){return t.id===e.$store.state.authStore.currentUser.id}));return-1!==t}return!1},enumerable:!0,configurable:!0}),t.prototype.registerUserForEvent=function(){return Object(i["a"])(this,void 0,Promise,(function(){var e,t,n,r,s=this;return Object(i["d"])(this,(function(i){switch(i.label){case 0:this.modalLoading=!0,e={eventId:this.selectedEvent.eventId.toString(),id:this.$store.state.authStore.currentUser.id,username:this.$store.state.authStore.currentUser.username,fullName:this.$store.state.authStore.currentUser.fullName},i.label=1;case 1:return i.trys.push([1,3,,4]),[4,o["a"].RegisterUserForEvent(e)];case 2:return t=i.sent(),200===t.status&&(n={fullName:e.fullName,id:e.id,username:e.username,image:this.$store.state.authStore.currentUser.profile.image},this.selectedEvent.registeredUsers.push(n),setTimeout((function(){s.modalLoading=!1}),4e3)),[3,4];case 3:return r=i.sent(),console.log(r),this.modalLoading=!1,[3,4];case 4:return[2]}}))}))},t.prototype.toggleShowRegisteredUsers=function(e){this.showRegistered=e,this.showRegistered?this.$store.dispatch("uiStore/_setNavBarShowingStatus",!1):this.$store.dispatch("uiStore/_setNavBarShowingStatus",!0)},t.prototype.eventTeams=function(e){return e.teams?e.teams.length:0},t.prototype.getEvents=function(){return Object(i["a"])(this,void 0,Promise,(function(){var e,t,n;return Object(i["d"])(this,(function(r){switch(r.label){case 0:this.loading=!0,r.label=1;case 1:return r.trys.push([1,5,,6]),[4,o["a"].publishedEvents()];case 2:return e=r.sent(),200!==e.status?[3,4]:(this.Events=e.data,t=e.data.find((function(e){return e.isCurrentYear})),this.selectedEvent=t||e.data[0],this.loading=!1,[4,this.$store.dispatch("uiStore/_setPageLoading",!1)]);case 3:r.sent(),r.label=4;case 4:return[3,6];case 5:return n=r.sent(),this.loading=!1,console.log(n),[3,6];case 6:return[2]}}))}))},t=Object(i["b"])([Object(a["a"])({name:"SandbaggerEvents",components:{Loading:function(){return n.e("chunk-7f1bdce6").then(n.bind(null,"866a"))},Modal:function(){return n.e("chunk-1ea71db0").then(n.bind(null,"35f7"))}}})],t),t}(a["d"]),u=c,d=u,l=(n("82e1"),n("2877")),f=Object(l["a"])(d,r,s,!1,null,"f66d8056",null);t["default"]=f.exports},"25f0":function(e,t,n){"use strict";var r=n("6eeb"),s=n("825a"),i=n("d039"),a=n("ad6d"),o="toString",c=RegExp.prototype,u=c[o],d=i((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),l=u.name!=o;(d||l)&&r(RegExp.prototype,o,(function(){var e=s(this),t=String(e.source),n=e.flags,r=String(void 0===n&&e instanceof RegExp&&!("flags"in c)?a.call(e):n);return"/"+t+"/"+r}),{unsafe:!0})},"65f0":function(e,t,n){var r=n("861d"),s=n("e8b5"),i=n("b622"),a=i("species");e.exports=function(e,t){var n;return s(e)&&(n=e.constructor,"function"!=typeof n||n!==Array&&!s(n.prototype)?r(n)&&(n=n[a],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},"7db0":function(e,t,n){"use strict";var r=n("23e7"),s=n("b727").find,i=n("44d2"),a=n("ae40"),o="find",c=!0,u=a(o);o in[]&&Array(1)[o]((function(){c=!1})),r({target:"Array",proto:!0,forced:c||!u},{find:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}}),i(o)},"82e1":function(e,t,n){"use strict";var r=n("0fce"),s=n.n(r);s.a},ad6d:function(e,t,n){"use strict";var r=n("825a");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},b727:function(e,t,n){var r=n("0366"),s=n("44ad"),i=n("7b0b"),a=n("50c4"),o=n("65f0"),c=[].push,u=function(e){var t=1==e,n=2==e,u=3==e,d=4==e,l=6==e,f=5==e||l;return function(v,h,g,b){for(var p,m,E=i(v),y=s(E),_=r(h,g,3),j=a(y.length),O=0,w=b||o,S=t?w(v,j):n?w(v,0):void 0;j>O;O++)if((f||O in y)&&(p=y[O],m=_(p,O,E),e))if(t)S[O]=m;else if(m)switch(e){case 3:return!0;case 5:return p;case 6:return O;case 2:c.call(S,p)}else if(d)return!1;return l?-1:u||d?d:S}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},c740:function(e,t,n){"use strict";var r=n("23e7"),s=n("b727").findIndex,i=n("44d2"),a=n("ae40"),o="findIndex",c=!0,u=a(o);o in[]&&Array(1)[o]((function(){c=!1})),r({target:"Array",proto:!0,forced:c||!u},{findIndex:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}}),i(o)},e8b5:function(e,t,n){var r=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}},fe9c:function(e,t,n){"use strict";n("d3b7");var r=n("9ab4"),s=n("86bc"),i="/events",a=function(){function e(){}return e.eventList=function(){return Object(r["a"])(this,void 0,Promise,(function(){return Object(r["d"])(this,(function(e){switch(e.label){case 0:return[4,s["a"].get(i+"/EventList")];case 1:return[2,e.sent()]}}))}))},e.publishedEvents=function(){return Object(r["a"])(this,void 0,Promise,(function(){return Object(r["d"])(this,(function(e){switch(e.label){case 0:return[4,s["a"].get(i+"/PublishedEvents")];case 1:return[2,e.sent()]}}))}))},e.createEvent=function(e){return Object(r["a"])(this,void 0,Promise,(function(){return Object(r["d"])(this,(function(t){switch(t.label){case 0:return[4,s["a"].post(i+"/CreateEvent",e)];case 1:return[2,t.sent()]}}))}))},e.getEventById=function(e){return Object(r["a"])(this,void 0,Promise,(function(){return Object(r["d"])(this,(function(t){switch(t.label){case 0:return[4,s["a"].get(i+"/GetEventById/"+e)];case 1:return[2,t.sent()]}}))}))},e.UpdateEvent=function(e){return Object(r["a"])(this,void 0,Promise,(function(){return Object(r["d"])(this,(function(t){switch(t.label){case 0:return[4,s["a"].put(i+"/UpdateEvent",e)];case 1:return[2,t.sent()]}}))}))},e.RegisterUserForEvent=function(e){return Object(r["a"])(this,void 0,Promise,(function(){return Object(r["d"])(this,(function(t){switch(t.label){case 0:return[4,s["a"].post(i+"/RegisterUserForEvent",e)];case 1:return[2,t.sent()]}}))}))},e.CreateEventTeam=function(e){return Object(r["a"])(this,void 0,Promise,(function(){return Object(r["d"])(this,(function(t){switch(t.label){case 0:return[4,s["a"].post(i+"/CreateTeamForEvent",e)];case 1:return[2,t.sent()]}}))}))},e.EventTeams=function(e){return Object(r["a"])(this,void 0,Promise,(function(){return Object(r["d"])(this,(function(t){return[2,s["a"].get(i+"/EventTeams/"+e)]}))}))},e.UpdateTeam=function(e){return Object(r["a"])(this,void 0,Promise,(function(){return Object(r["d"])(this,(function(t){return[2,s["a"].put(i+"/UpdateTeam/",e)]}))}))},e.deleteEvent=function(e){return Object(r["a"])(this,void 0,Promise,(function(){return Object(r["d"])(this,(function(t){return console.log("[eventId: "+e+"]"),[2,s["a"].delete(i+"/DeleteEvent/"+e)]}))}))},e}();t["a"]=a}}]);
//# sourceMappingURL=view-event-SandbaggerEvents-vue.5e89abc8.js.map