(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["view-UserProfile-vue"],{"1dde":function(e,t,r){var i=r("d039"),n=r("b622"),s=r("2d00"),o=n("species");e.exports=function(e){return s>=51||!i((function(){var t=[],r=t.constructor={};return r[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"4a39":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=this,i=t.$createElement,n=t._self._c||i;return t.currentUser.profile?n("div",{staticClass:"userProfile"},[n("div",{staticClass:"userProfile__backBar"},[n("button",{staticClass:"btn btn--xs",on:{click:function(){return e.$router.back()}}},[t._v("Back")])]),n("div",{staticClass:"userProfile__top"},[n("button",{staticClass:"editButton",on:{click:t.toggleEditMode}},[t.isEditMode?t._e():n("span",[n("img",{attrs:{src:r("59ab"),alt:"Edit Pencil"}}),n("span",[t._v(" Edit")])]),t.isEditMode?n("span",[n("img",{attrs:{src:r("82ec"),alt:"Cloud Save"}}),t._v(" Save ")]):t._e()]),n("div",{staticClass:"img"},[t.currentUser.profile.image?n("img",{attrs:{src:t.currentUser.profile.image,alt:"User Profile Image"}}):n("img",{attrs:{src:r("edb4"),alt:"User Profile Image"}})]),t.isEditMode?n("div",{staticClass:"updateProfileImage"},[n("label",{attrs:{for:"profileImage"}},[t._v("Profile Image")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.profileImage,expression:"profileImage"}],attrs:{type:"text",id:"profileImage"},domProps:{value:t.profileImage},on:{input:function(e){e.target.composing||(t.profileImage=e.target.value)}}})]):t._e(),n("div",{staticClass:"info"},[n("h2",[t._v(t._s(t.currentUser.fullName))]),n("div",{staticClass:"handicap"},[n("p",[t._v("Handicap:")]),t.isEditMode?t._e():n("span",[t._v(t._s(t.currentUser.profile.handicap))]),t.isEditMode?n("label",{staticClass:"hideLabel",attrs:{for:"handicap"}},[t._v("Handicap")]):t._e(),t.isEditMode?n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.handicap,expression:"handicap",modifiers:{number:!0}}],attrs:{id:"handicap",type:"number",step:".1"},domProps:{value:t.handicap},on:{input:function(e){e.target.composing||(t.handicap=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}):t._e()])])]),n("div",{staticClass:"userProfile__bottom"},[t.currentView?n("div",{staticClass:"currentViewTitle"},[n("div",[n("h3",[t._v(t._s(t.currentView))])]),n("div",[n("button",{staticClass:"btn btn--xs btn--white",on:{click:function(e){return t.setCurrentViewOption(null)}}},[t._v("Close")])])]):t._e(),n("div",{staticClass:"viewButtons"},t._l(t.viewOptions,(function(e){return n("button",{key:e,class:{active:t.currentView===e},attrs:{id:e},on:{click:function(r){return t.setCurrentViewOption(e)}}},[t._v(t._s(e))])})),0),t.isBottomMenuShowing?n("div",{staticClass:"currentView"},[n("ProfileView",{directives:[{name:"show",rawName:"v-show",value:"Profile"===t.currentView,expression:"currentView === 'Profile'"}],attrs:{cUser:t.currentUser},on:{updateCurrentUserProfile:t.updateCurrentUser}}),n("SettingsView",{directives:[{name:"show",rawName:"v-show",value:"Settings"===t.currentView&&!t.loading,expression:"currentView === 'Settings' && !loading"}],attrs:{cUserSettings:t.currentUser.settings,cUserRoles:t.currentUser.roles},on:{toggleFavoriteLinks:t.toggleFavoriteLinks}}),n("BetsView",{directives:[{name:"show",rawName:"v-show",value:"Bets"===t.currentView,expression:"currentView === 'Bets'"}],attrs:{cUserID:t.currentUser.id}}),t.loading?n("Loading"):t._e()],1):t._e()])]):t._e()},n=[],s=(r("c740"),r("a434"),r("b0c0"),r("d3b7"),r("9ab4")),o=r("60a3"),a=r("86bc"),u="/profile",c=function(){function e(){}return e.UpdateCurrentUserProfile=function(e){return Object(s["a"])(this,void 0,Promise,(function(){return Object(s["d"])(this,(function(t){switch(t.label){case 0:return[4,a["a"].post(u+"/UpdateProfile",e)];case 1:return[2,t.sent()]}}))}))},e}(),l=c,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.loading=!1,t.viewOptions=["Profile","Settings","Bets"],t.currentView=null,t.isEditMode=!1,t.currentUser={},t.handicap=null,t.profileImage=null,t.isBottomMenuShowing=!1,t}return Object(s["c"])(t,e),t.prototype.mounted=function(){this.getCurrentUser()},t.prototype.updateHandicap=function(e){var t=this;this.handicap=null,clearTimeout(this.debounce),this.debounce=setTimeout((function(){t.handicap=e.target.value,t.handicap&&(t.currentUser.profile.handicap=t.handicap,t.updateCurrentUser(t.currentUser),t.handicap=null)}),5e3)},t.prototype.updateProfileImage=function(e){var t=this;this.profileImage=null,clearTimeout(this.debounce),this.debounce=setTimeout((function(){t.profileImage=e.target.value,t.profileImage&&(t.currentUser.profile.image=t.profileImage,t.updateCurrentUser(t.currentUser),t.profileImage=null)}),5e3)},t.prototype.setCurrentViewOption=function(e){var t=this;this.currentView=e;var r=document.querySelector(".userProfile__bottom");e?(this.isBottomMenuShowing=!0,r.classList.add("show")):(r.classList.remove("show"),r.classList.add("hide"),setTimeout((function(){r.classList.remove("hide"),t.isBottomMenuShowing=!1,t.currentView=e}),300))},t.prototype.toggleEditMode=function(){this.isEditMode=!this.isEditMode,this.isEditMode?(this.handicap=this.currentUser.profile.handicap,this.profileImage=this.currentUser.profile.image):(this.currentUser.profile.image=this.profileImage,this.currentUser.profile.handicap=this.handicap||0,this.updateCurrentUser(this.currentUser))},t.prototype.toggleFavoriteLinks=function(e){if("add"===e.status)this.currentUser.settings.favoriteLinks.push(e.fLink);else if("remove"===e.status){var t=this.currentUser.settings.favoriteLinks.findIndex((function(t){return t.name===e.fLink.name}));this.currentUser.settings.favoriteLinks.splice(t,1)}this.updateCurrentUser(this.currentUser)},t.prototype.updateCurrentUser=function(e){return Object(s["a"])(this,void 0,Promise,(function(){var t,r,i=this;return Object(s["d"])(this,(function(n){switch(n.label){case 0:return this.currentUser=e,[4,this.$store.dispatch("authStore/updateCurrentUser",e)];case 1:if(n.sent(),null===this.currentView)return[3,6];this.loading=!0,n.label=2;case 2:return n.trys.push([2,4,,5]),[4,l.UpdateCurrentUserProfile(this.currentUser)];case 3:return t=n.sent(),200===t.status?setTimeout((function(){i.setCurrentViewOption(null),i.loading=!1}),3e3):this.loading=!1,[3,5];case 4:return n.sent(),setTimeout((function(){i.loading=!1}),3e3),[3,5];case 5:return[3,9];case 6:return n.trys.push([6,8,,9]),this.isBottomMenuShowing=!1,[4,l.UpdateCurrentUserProfile(this.currentUser)];case 7:return t=n.sent(),200===t.status&&(this.isBottomMenuShowing=!0),[3,9];case 8:return r=n.sent(),console.log(r),[3,9];case 9:return[2]}}))}))},t.prototype.getCurrentUser=function(){this.currentUser=this.$store.state.authStore.currentUser},Object(s["b"])([Object(o["c"])({default:!1})],t.prototype,"dialog",void 0),t=Object(s["b"])([Object(o["a"])({name:"UserProfile",components:{ProfileView:function(){return r.e("chunk-1d9bfd84").then(r.bind(null,"464e"))},SettingsView:function(){return r.e("chunk-291bf644").then(r.bind(null,"cffa"))},BetsView:function(){return r.e("chunk-bc4c353e").then(r.bind(null,"55c7"))},Loading:function(){return r.e("chunk-75293f4f").then(r.bind(null,"866a"))}}})],t),t}(o["d"]),f=d,p=f,h=(r("cfaf"),r("2877")),v=Object(h["a"])(p,i,n,!1,null,"9cac2e3e",null);t["default"]=v.exports},"59ab":function(e,t,r){e.exports=r.p+"img/editPencil.86a2b22f.svg"},"65f0":function(e,t,r){var i=r("861d"),n=r("e8b5"),s=r("b622"),o=s("species");e.exports=function(e,t){var r;return n(e)&&(r=e.constructor,"function"!=typeof r||r!==Array&&!n(r.prototype)?i(r)&&(r=r[o],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},"82ec":function(e,t,r){e.exports=r.p+"img/cloudSave.f0584fe7.svg"},8418:function(e,t,r){"use strict";var i=r("c04e"),n=r("9bf2"),s=r("5c6c");e.exports=function(e,t,r){var o=i(t);o in e?n.f(e,o,s(0,r)):e[o]=r}},a434:function(e,t,r){"use strict";var i=r("23e7"),n=r("23cb"),s=r("a691"),o=r("50c4"),a=r("7b0b"),u=r("65f0"),c=r("8418"),l=r("1dde"),d=r("ae40"),f=l("splice"),p=d("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,v=Math.min,g=9007199254740991,m="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!f||!p},{splice:function(e,t){var r,i,l,d,f,p,b=a(this),w=o(b.length),U=n(e,w),_=arguments.length;if(0===_?r=i=0:1===_?(r=0,i=w-U):(r=_-2,i=v(h(s(t),0),w-U)),w+r-i>g)throw TypeError(m);for(l=u(b,i),d=0;d<i;d++)f=U+d,f in b&&c(l,d,b[f]);if(l.length=i,r<i){for(d=U;d<w-i;d++)f=d+i,p=d+r,f in b?b[p]=b[f]:delete b[p];for(d=w;d>w-i+r;d--)delete b[d-1]}else if(r>i)for(d=w-i;d>U;d--)f=d+i-1,p=d+r-1,f in b?b[p]=b[f]:delete b[p];for(d=0;d<r;d++)b[d+U]=arguments[d+2];return b.length=w-i+r,l}})},a502:function(e,t,r){},b727:function(e,t,r){var i=r("0366"),n=r("44ad"),s=r("7b0b"),o=r("50c4"),a=r("65f0"),u=[].push,c=function(e){var t=1==e,r=2==e,c=3==e,l=4==e,d=6==e,f=5==e||d;return function(p,h,v,g){for(var m,b,w=s(p),U=n(w),_=i(h,v,3),C=o(U.length),y=0,P=g||a,x=t?P(p,C):r?P(p,0):void 0;C>y;y++)if((f||y in U)&&(m=U[y],b=_(m,y,w),e))if(t)x[y]=b;else if(b)switch(e){case 3:return!0;case 5:return m;case 6:return y;case 2:u.call(x,m)}else if(l)return!1;return d?-1:c||l?l:x}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},c740:function(e,t,r){"use strict";var i=r("23e7"),n=r("b727").findIndex,s=r("44d2"),o=r("ae40"),a="findIndex",u=!0,c=o(a);a in[]&&Array(1)[a]((function(){u=!1})),i({target:"Array",proto:!0,forced:u||!c},{findIndex:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),s(a)},cfaf:function(e,t,r){"use strict";var i=r("a502"),n=r.n(i);n.a},e8b5:function(e,t,r){var i=r("c6b6");e.exports=Array.isArray||function(e){return"Array"==i(e)}},edb4:function(e,t,r){e.exports=r.p+"img/SBLogo.96946d29.png"}}]);
//# sourceMappingURL=view-UserProfile-vue.f238067e.js.map