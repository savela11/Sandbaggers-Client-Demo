(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["view-admin-Roles-vue"],{"0888":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"roles"},[!e.loading&&e.selectedRole?n("div",[n("div",{staticClass:"utility"},[n("IconBtn",{attrs:{"btn-text":"Create Role","link-btn":!0,link:"/admin/CreateRole"},scopedSlots:e._u([{key:"svg",fn:function(){return[n("svg",{attrs:{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM17 13H13V17H11V13H7V11H11V7H13V11H17V13Z",fill:"#17252A"}})])]},proxy:!0}],null,!1,2478591833)}),e.selectedRole?n("SelectBoxComponent",{attrs:{selected:e.selectedRole,"selected-value":"roleName",options:e.filterOptions,keyValue:"roleName",optionValue:"roleName",showSelectOptions:e.showSelectOptions},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.toggleSelectBox(t)},"select-option":e.selectOption}}):e._e()],1),n("div",{staticClass:"selectedRole"},[n("h2",{staticClass:"text text--xl text--bold"},[e._v(e._s(e.selectedRole.roleName))]),n("ViewBtns",{attrs:{viewButtons:e.viewButtons,activeViewBtn:e.activeViewBtn},on:{"selected-btn":e.toggleActiveView}}),n("div",{directives:[{name:"show",rawName:"v-show",value:"with"===e.activeViewBtn,expression:"activeViewBtn === 'with'"}],staticClass:"users withRole"},e._l(e.selectedRole.members,(function(t){return n("div",{key:t.id,staticClass:"user"},[n("div",{staticClass:"user__container"},[n("p",{staticClass:"text text--md"},[e._v(e._s(t.fullName))]),n("IconBtn",{on:{click:function(n){return e.removeUserWithRole(t)}},scopedSlots:e._u([{key:"svg",fn:function(){return[n("svg",{attrs:{viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M12.5 0C5.5971 0 0 5.5971 0 12.5C0 19.4029 5.5971 25 12.5 25C19.4029 25 25 19.4029 25 12.5C25 5.5971 19.4029 0 12.5 0ZM17.8571 13.1696C17.8571 13.2924 17.7567 13.3929 17.6339 13.3929H7.36607C7.2433 13.3929 7.14286 13.2924 7.14286 13.1696V11.8304C7.14286 11.7076 7.2433 11.6071 7.36607 11.6071H17.6339C17.7567 11.6071 17.8571 11.7076 17.8571 11.8304V13.1696Z",fill:"#9F0000"}})])]},proxy:!0}],null,!0)})],1)])})),0),n("div",{directives:[{name:"show",rawName:"v-show",value:"without"===e.activeViewBtn,expression:"activeViewBtn === 'without'"}],staticClass:"users withoutRole"},e._l(e.selectedRole.nonMembers,(function(t){return n("div",{key:t.id,staticClass:"user"},[n("div",{staticClass:"user__container"},[n("p",{staticClass:"text text--md"},[e._v(e._s(t.fullName))]),n("IconBtn",{on:{click:function(n){return e.addUserToRole(t)}},scopedSlots:e._u([{key:"svg",fn:function(){return[n("svg",{attrs:{viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M12.5 0C5.6 0 0 5.6 0 12.5C0 19.4 5.6 25 12.5 25C19.4 25 25 19.4 25 12.5C25 5.6 19.4 0 12.5 0ZM18.75 13.75H13.75V18.75H11.25V13.75H6.25V11.25H11.25V6.25H13.75V11.25H18.75V13.75Z",fill:"#167230"}})])]},proxy:!0}],null,!0)})],1)])})),0)],1)]):n("Loading")],1)},o=[],s=(n("4de4"),n("7db0"),n("c740"),n("a434"),n("d3b7"),n("9ab4")),i=n("1b40"),a=n("838b"),c=n("53ec"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.loading=!0,t.roles=[],t.selectedRole={},t.showSelectOptions=!1,t.viewButtons=["with","without"],t.activeViewBtn="with",t}return Object(s["c"])(t,e),t.prototype.mounted=function(){this.getRoles()},t.prototype.toggleActiveView=function(e){this.activeViewBtn=e},t.prototype.toggleSelectBox=function(){this.showSelectOptions=!this.showSelectOptions},t.prototype.selectOption=function(e){this.selectedRole=e,this.showSelectOptions=!1},Object.defineProperty(t.prototype,"filterOptions",{get:function(){var e=this;return this.selectedRole?this.roles.filter((function(t){return t.roleName!==e.selectedRole.roleName})):[]},enumerable:!1,configurable:!0}),t.prototype.addUserToRole=function(e){return Object(s["a"])(this,void 0,Promise,(function(){var t,n,r,o,i,l,u=this;return Object(s["d"])(this,(function(s){switch(s.label){case 0:t={roleName:this.selectedRole.roleName,userId:e.id},this.loading=!0,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,a["a"].AddUserToRole(t)];case 2:return n=s.sent(),200===n.status&&(c["a"].SnackBar({title:"Success",message:e.fullName+" has been added to "+this.selectedRole.roleName+" role",isSnackBarShowing:!0,classInfo:"primary"}),r=this.roles.findIndex((function(e){return e.roleName===t.roleName})),o=this.roles[r].nonMembers.findIndex((function(e){return e.id===t.userId})),i=this.roles[r].nonMembers.splice(o,1),this.roles[r].members.push(i[0]),setTimeout((function(){u.loading=!1}),3e3)),[3,4];case 3:return l=s.sent(),console.log(l),this.loading=!1,[3,4];case 4:return[2]}}))}))},t.prototype.removeUserWithRole=function(e){return Object(s["a"])(this,void 0,Promise,(function(){var t,n,r,o,i,l,u=this;return Object(s["d"])(this,(function(s){switch(s.label){case 0:t={roleName:this.selectedRole.roleName,userId:e.id},this.loading=!0,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,a["a"].RemoveUserFromRole(t)];case 2:return n=s.sent(),200===n.status&&(c["a"].SnackBar({title:"Success",message:e.fullName+" has been removed from "+this.selectedRole.roleName+" role",isSnackBarShowing:!0,classInfo:"primary"}),r=this.roles.findIndex((function(e){return e.roleName===t.roleName})),o=this.roles[r].nonMembers.findIndex((function(e){return e.id===t.userId})),i=this.roles[r].members.splice(o,1),this.roles[r].nonMembers.push(i[0]),setTimeout((function(){u.loading=!1}),3e3)),[3,4];case 3:return l=s.sent(),console.log(l),this.loading=!1,[3,4];case 4:return[2]}}))}))},t.prototype.getRoles=function(){return Object(s["a"])(this,void 0,Promise,(function(){var e,t,n=this;return Object(s["d"])(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,3,4]),[4,a["a"].roleList()];case 1:return e=r.sent(),200===e.status&&(this.roles=e.data,this.selectedRole=e.data.find((function(e){return"Admin"===e.roleName}))),[3,4];case 2:return t=r.sent(),console.log(t),[3,4];case 3:return setTimeout((function(){n.loading=!1}),Math.floor(3e3*Math.random())),[7];case 4:return[2]}}))}))},t=Object(s["b"])([Object(i["a"])({components:{SelectBoxComponent:function(){return n.e("chunk-3312861b").then(n.bind(null,"6e4a"))},Loading:function(){return n.e("chunk-3be14acd").then(n.bind(null,"866a"))},IconBtn:function(){return n.e("chunk-1ff1e280").then(n.bind(null,"ed18"))},ViewBtns:function(){return n.e("chunk-6bd06afd").then(n.bind(null,"1187"))}}})],t),t}(i["d"]),u=l,d=u,f=(n("4fef"),n("2877")),h=Object(f["a"])(d,r,o,!1,null,"c6a544bc",null);t["default"]=h.exports},"141e":function(e,t,n){},"1dde":function(e,t,n){var r=n("d039"),o=n("b622"),s=n("2d00"),i=o("species");e.exports=function(e){return s>=51||!r((function(){var t=[],n=t.constructor={};return n[i]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"4de4":function(e,t,n){"use strict";var r=n("23e7"),o=n("b727").filter,s=n("1dde"),i=n("ae40"),a=s("filter"),c=i("filter");r({target:"Array",proto:!0,forced:!a||!c},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},"4fef":function(e,t,n){"use strict";n("141e")},"65f0":function(e,t,n){var r=n("861d"),o=n("e8b5"),s=n("b622"),i=s("species");e.exports=function(e,t){var n;return o(e)&&(n=e.constructor,"function"!=typeof n||n!==Array&&!o(n.prototype)?r(n)&&(n=n[i],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},"7db0":function(e,t,n){"use strict";var r=n("23e7"),o=n("b727").find,s=n("44d2"),i=n("ae40"),a="find",c=!0,l=i(a);a in[]&&Array(1)[a]((function(){c=!1})),r({target:"Array",proto:!0,forced:c||!l},{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),s(a)},"838b":function(e,t,n){"use strict";n("d3b7");var r=n("9ab4"),o=n("86bc"),s="/roles",i=function(){function e(){}return e.roleList=function(){return Object(r["a"])(this,void 0,Promise,(function(){return Object(r["d"])(this,(function(e){switch(e.label){case 0:return[4,o["a"].get(s+"/Roles")];case 1:return[2,e.sent()]}}))}))},e.CreateRole=function(e){return Object(r["a"])(this,void 0,Promise,(function(){return Object(r["d"])(this,(function(t){switch(t.label){case 0:return[4,o["a"].post(s+"/CreateRole",e)];case 1:return[2,t.sent()]}}))}))},e.RemoveUserFromRole=function(e){return Object(r["a"])(this,void 0,Promise,(function(){return Object(r["d"])(this,(function(t){switch(t.label){case 0:return[4,o["a"].post(s+"/RemoveUserFromRole",e)];case 1:return[2,t.sent()]}}))}))},e.AddUserToRole=function(e){return Object(r["a"])(this,void 0,Promise,(function(){return Object(r["d"])(this,(function(t){switch(t.label){case 0:return[4,o["a"].post(s+"/AddUserToRole",e)];case 1:return[2,t.sent()]}}))}))},e}();t["a"]=i},8418:function(e,t,n){"use strict";var r=n("c04e"),o=n("9bf2"),s=n("5c6c");e.exports=function(e,t,n){var i=r(t);i in e?o.f(e,i,s(0,n)):e[i]=n}},"86bc":function(e,t,n){"use strict";n("d3b7");var r=n("9ab4"),o=n("bc3a"),s=n.n(o),i=n("88b4"),a=n.n(i),c=n("0613"),l="https://sandbaggerapi.azurewebsites.net/api",u=new a.a({isCompression:!1}),d=s.a.create({baseURL:l});d.interceptors.request.use((function(e){e.withCredentials=!0,s.a.defaults.headers.common["Authorization"]="",delete s.a.defaults.headers.common["Authorization"];var t=JSON.parse(u.get("User"));if(null!=t.authStore.currentUser){var n=t.authStore.currentUser.token;n&&(e.headers.common.Authorization="Bearer "+n)}return e}),(function(e){return console.log("error",e),Promise.reject(e)})),d.interceptors.response.use((function(e){return e}),(function(e){return Object(r["a"])(void 0,void 0,void 0,(function(){return Object(r["d"])(this,(function(t){switch(t.label){case 0:return e&&e.response?401!==e.response.status&&"Unauthorized"!==e.response.statusText&&500!==e.response.status?[3,2]:[4,c["a"].dispatch("authStore/Logout")]:[3,2];case 1:t.sent(),t.label=2;case 2:return e&&e.message?"Network Error"!==e.message?[3,4]:[4,c["a"].dispatch("authStore/Logout")]:[3,4];case 3:t.sent(),console.log("Error!",e.message),t.label=4;case 4:return[2,Promise.reject(e.response)]}}))}))})),t["a"]=d},a434:function(e,t,n){"use strict";var r=n("23e7"),o=n("23cb"),s=n("a691"),i=n("50c4"),a=n("7b0b"),c=n("65f0"),l=n("8418"),u=n("1dde"),d=n("ae40"),f=u("splice"),h=d("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,v=Math.min,b=9007199254740991,m="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!f||!h},{splice:function(e,t){var n,r,u,d,f,h,w=a(this),g=i(w.length),x=o(e,g),R=arguments.length;if(0===R?n=r=0:1===R?(n=0,r=g-x):(n=R-2,r=v(p(s(t),0),g-x)),g+n-r>b)throw TypeError(m);for(u=c(w,r),d=0;d<r;d++)f=x+d,f in w&&l(u,d,w[f]);if(u.length=r,n<r){for(d=x;d<g-r;d++)f=d+r,h=d+n,f in w?w[h]=w[f]:delete w[h];for(d=g;d>g-r+n;d--)delete w[d-1]}else if(n>r)for(d=g-r;d>x;d--)f=d+r-1,h=d+n-1,f in w?w[h]=w[f]:delete w[h];for(d=0;d<n;d++)w[d+x]=arguments[d+2];return w.length=g-r+n,u}})},b727:function(e,t,n){var r=n("0366"),o=n("44ad"),s=n("7b0b"),i=n("50c4"),a=n("65f0"),c=[].push,l=function(e){var t=1==e,n=2==e,l=3==e,u=4==e,d=6==e,f=7==e,h=5==e||d;return function(p,v,b,m){for(var w,g,x=s(p),R=o(x),y=r(v,b,3),C=i(R.length),O=0,B=m||a,S=t?B(p,C):n||f?B(p,0):void 0;C>O;O++)if((h||O in R)&&(w=R[O],g=y(w,O,x),e))if(t)S[O]=g;else if(g)switch(e){case 3:return!0;case 5:return w;case 6:return O;case 2:c.call(S,w)}else switch(e){case 4:return!1;case 7:c.call(S,w)}return d?-1:l||u?u:S}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterOut:l(7)}},c740:function(e,t,n){"use strict";var r=n("23e7"),o=n("b727").findIndex,s=n("44d2"),i=n("ae40"),a="findIndex",c=!0,l=i(a);a in[]&&Array(1)[a]((function(){c=!1})),r({target:"Array",proto:!0,forced:c||!l},{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),s(a)},e8b5:function(e,t,n){var r=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}}}]);
//# sourceMappingURL=view-admin-Roles-vue.f4ba7293.js.map