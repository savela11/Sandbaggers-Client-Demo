{"version":3,"sources":["webpack:///./src/views/powerRankings/CreatePowerRanking.vue?2b6c","webpack:///./src/services/PowerRankingService.ts","webpack:///./src/utility/apiClient.ts","webpack:///./src/views/powerRankings/CreatePowerRanking.vue?a26d","webpack:///./src/views/powerRankings/CreatePowerRanking.vue?eaa5","webpack:///./src/views/powerRankings/CreatePowerRanking.vue?af0e","webpack:///./src/views/powerRankings/CreatePowerRanking.vue"],"names":["url","PowerRankings","Promise","get","EventRegisteredUsers","eventId","PowerRanking","UpdatePowerRanking","post","ls","isCompression","apiClient","a","create","baseURL","interceptors","request","use","config","withCredentials","defaults","headers","common","storage","JSON","parse","authStore","currentUser","token","Authorization","error","console","log","reject","response","status","statusText","dispatch","message","render","_vm","this","_h","$createElement","_c","_self","on","$event","$router","go","_v","staticClass","attrs","directives","name","rawName","value","createPowerRankingForm","expression","modifiers","domProps","target","composing","$set","_n","trim","$forceUpdate","_m","staticRenderFns","userId","rank","trending","writeUp","registeredUsers","mounted","getRegisteredUsers","PowerRankingService","parseInt","$route","params","res","data","length","UIHelper","SnackBar","title","isSnackBarShowing","classInfo","CreatePowerRanking","component"],"mappings":"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","file":"js/view-powerRankings-CreatePowerRanking-vue.4103e50c.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreatePowerRanking.vue?vue&type=style&index=0&id=abf7a692&scoped=true&lang=scss&\"","import apiClient from \"../utility/apiClient\";\r\nimport { AxiosResponse } from \"axios\";\r\nimport { EventPowerRankingVm } from \"@/types/ViewModels/EventPowerRankingVm\";\r\nimport { RegisteredUserVm } from \"@/types/ViewModels/EventVm\";\r\n\r\n\r\nconst url = \"/PowerRanking\";\r\n\r\nclass PowerRankingService {\r\n  static async PowerRankings(): Promise<AxiosResponse<EventPowerRankingVm[]>> {\r\n    return await apiClient.get(`${url}/PowerRankings`);\r\n  }\r\n\r\n  static async EventRegisteredUsers(eventId: number): Promise<AxiosResponse<Array<RegisteredUserVm>>> {\r\n    return await apiClient.get(`${url}/EventRegisteredUsers/${eventId}`);\r\n  }\r\n\r\n  static async PowerRanking(eventId: string): Promise<AxiosResponse<EventPowerRankingVm>> {\r\n    return await apiClient.get(`${url}/PowerRankingById/${eventId}`);\r\n\r\n  }\r\n\r\n  static async UpdatePowerRanking(PowerRanking: EventPowerRankingVm): Promise<AxiosResponse<EventPowerRankingVm>> {\r\n    return await apiClient.post(`${url}/UpdatePowerRanking/`, PowerRanking);\r\n  }\r\n}\r\n\r\nexport default PowerRankingService;\r\n","import axios, { AxiosError, AxiosRequestConfig, AxiosResponse } from 'axios'\r\n\r\nconst url = process.env.VUE_APP_URL\r\nimport SecureLS from 'secure-ls'\r\n\r\nconst ls = new SecureLS({ isCompression: false })\r\nimport store from '@/store'\r\n\r\nconst apiClient = axios.create({\r\n  // baseURL: process.env.NODE_ENV === 'production' ? url : `https://localhost:44371/api`,\r\n  baseURL: process.env.NODE_ENV === 'production' ? url : `http://10.0.0.56:8080/api`,\r\n})\r\n\r\napiClient.interceptors.request.use(\r\n  (config: AxiosRequestConfig) => {\r\n    config.withCredentials = true\r\n    axios.defaults.headers.common['Authorization'] = ''\r\n    delete axios.defaults.headers.common['Authorization']\r\n    const storage = JSON.parse(ls.get('User'))\r\n\r\n    if (storage.authStore.currentUser != null) {\r\n      const token = storage.authStore.currentUser.token\r\n      if (token) {\r\n        config.headers.common.Authorization = `Bearer ${token}`\r\n      }\r\n    }\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      console.log('Request: ', config)\r\n    }\r\n    return config\r\n  },\r\n  (error: AxiosError) => {\r\n    console.log('error', error)\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\napiClient.interceptors.response.use(\r\n  (response: AxiosResponse) => {\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      console.log('Response: ', response)\r\n    }\r\n\r\n    return response\r\n  },\r\n  async (error: AxiosError) => {\r\n    if (error && error.response) {\r\n      if (error.response.status === 401 || error.response.statusText === 'Unauthorized' || error.response.status === 500) {\r\n        await store.dispatch('authStore/Logout')\r\n      }\r\n    }\r\n\r\n    // console.log(\"Response Error\", error.response);\r\n\r\n    if (error && error.message) {\r\n      if (error.message === 'Network Error') {\r\n        await store.dispatch('authStore/Logout')\r\n        console.log('Error!', error.message)\r\n      }\r\n    }\r\n\r\n    return Promise.reject(error.response)\r\n  }\r\n)\r\n\r\nexport default apiClient\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('button',{on:{\"click\":function($event){return _vm.$router.go(-1)}}},[_vm._v(\"Back\")]),_c('div',{staticClass:\"createForm\"},[_c('form',{staticClass:\"form\"},[_c('div',{staticClass:\"form__field\"},[_c('label',{attrs:{\"for\":\"username\"}},[_vm._v(\"Rank\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim.number\",value:(_vm.createPowerRankingForm.rank),expression:\"createPowerRankingForm.rank\",modifiers:{\"trim\":true,\"number\":true}}],attrs:{\"type\":\"text\",\"id\":\"username\"},domProps:{\"value\":(_vm.createPowerRankingForm.rank)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.createPowerRankingForm, \"rank\", _vm._n($event.target.value.trim()))},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('div',{staticClass:\"form__field\"},[_c('label',{attrs:{\"for\":\"trending\"}},[_vm._v(\"Trending\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.createPowerRankingForm.trending),expression:\"createPowerRankingForm.trending\",modifiers:{\"trim\":true}}],attrs:{\"type\":\"text\",\"id\":\"trending\"},domProps:{\"value\":(_vm.createPowerRankingForm.trending)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.createPowerRankingForm, \"trending\", $event.target.value.trim())},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('div',{staticClass:\"form__field\"},[_c('label',{attrs:{\"for\":\"writeUp\"}},[_vm._v(\"Writeup\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.createPowerRankingForm.writeUp),expression:\"createPowerRankingForm.writeUp\",modifiers:{\"trim\":true}}],attrs:{\"type\":\"text\",\"id\":\"writeUp\"},domProps:{\"value\":(_vm.createPowerRankingForm.writeUp)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.createPowerRankingForm, \"writeUp\", $event.target.value.trim())},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_vm._m(0)])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"btnContainer\"},[_c('button',{staticClass:\"btn btn--bg-darkBlue btn--sm\",attrs:{\"id\":\"createPowerRankingBtn\"}},[_vm._v(\"Create\")])])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue } from 'vue-property-decorator'\r\nimport PowerRankingService from '@/services/PowerRankingService'\r\nimport UIHelper from '@/utility/UIHelper'\r\nimport { RegisteredUserVm } from '@/types/ViewModels/EventVm'\r\n\r\n@Component({ name: 'CreatePowerRanking' })\r\nexport default class CreatePowerRanking extends Vue {\r\n  createPowerRankingForm = {\r\n    userId: '',\r\n    rank: 0,\r\n    trending: '',\r\n    writeUp: '',\r\n  }\r\n\r\n  registeredUsers = [] as Array<RegisteredUserVm>\r\n\r\n  mounted(): void {\r\n    this.getRegisteredUsers()\r\n  }\r\n\r\n  async getRegisteredUsers(): Promise<void> {\r\n    try {\r\n      const res = await PowerRankingService.EventRegisteredUsers(parseInt(this.$route.params.eventId))\r\n      if (res.data.length < 1) {\r\n        UIHelper.SnackBar({\r\n          title: 'Error',\r\n          message: 'Not able to find registered user',\r\n          isSnackBarShowing: true,\r\n          classInfo: 'error',\r\n        })\r\n        return this.$router.go(-1)\r\n      }\r\n      if (res.status === 200) {\r\n        this.registeredUsers = res.data\r\n      }\r\n    } catch (e) {\r\n      console.log(e)\r\n    } finally {\r\n    }\r\n  }\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreatePowerRanking.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreatePowerRanking.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CreatePowerRanking.vue?vue&type=template&id=abf7a692&scoped=true&\"\nimport script from \"./CreatePowerRanking.vue?vue&type=script&lang=ts&\"\nexport * from \"./CreatePowerRanking.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CreatePowerRanking.vue?vue&type=style&index=0&id=abf7a692&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"abf7a692\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}